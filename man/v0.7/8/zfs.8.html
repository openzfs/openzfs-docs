

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>zfs.8 &mdash; OpenZFS  documentation</title>
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme_overrides.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/mandoc.css" type="text/css" />

  
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="canonical" href="https://openzfs.github.io/openzfs-docs/man/v0.7/8/zfs.8.html" />
      <script src="../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../../../_static/doctools.js?v=fd6eb6e6"></script>
      <script src="../../../_static/sphinx_highlight.js?v=6ffebe34"></script>
      <script src="../../../_static/js/redirect.js?v=2a1712f3"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="zgenhostid.8" href="zgenhostid.8.html" />
    <link rel="prev" title="zed.8" href="zed.8.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #29667e" >

          
          
          <a href="../../../index.html">
            
              <img src="../../../_static/logo_main.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../Getting%20Started/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Project%20and%20Community/index.html">Project and Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Developer%20Resources/index.html">Developer Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Performance%20and%20Tuning/index.html">Performance and Tuning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Basic%20Concepts/index.html">Basic Concepts</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Man Pages</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../master/index.html">master</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../v2.4/index.html">v2.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../v2.3/index.html">v2.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../v2.2/index.html">v2.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../v2.1/index.html">v2.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../v2.0/index.html">v2.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../v0.8/index.html">v0.8</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">v0.7</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../1/index.html">User Commands (1)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../5/index.html">File Formats and Conventions (5)</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">System Administration Commands (8)</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="fsck.zfs.8.html">fsck.zfs.8</a></li>
<li class="toctree-l4"><a class="reference internal" href="mount.zfs.8.html">mount.zfs.8</a></li>
<li class="toctree-l4"><a class="reference internal" href="vdev_id.8.html">vdev_id.8</a></li>
<li class="toctree-l4"><a class="reference internal" href="zdb.8.html">zdb.8</a></li>
<li class="toctree-l4"><a class="reference internal" href="zed.8.html">zed.8</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">zfs.8</a></li>
<li class="toctree-l4"><a class="reference internal" href="zgenhostid.8.html">zgenhostid.8</a></li>
<li class="toctree-l4"><a class="reference internal" href="zinject.8.html">zinject.8</a></li>
<li class="toctree-l4"><a class="reference internal" href="zpool.8.html">zpool.8</a></li>
<li class="toctree-l4"><a class="reference internal" href="zstreamdump.8.html">zstreamdump.8</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../v0.6/index.html">v0.6</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../msg/index.html">ZFS Messages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../License.html">License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #29667e" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">OpenZFS</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Man Pages</a></li>
          <li class="breadcrumb-item"><a href="../index.html">v0.7</a></li>
          <li class="breadcrumb-item"><a href="index.html">System Administration Commands (8)</a></li>
      <li class="breadcrumb-item active">zfs.8</li>
      <li class="wy-breadcrumbs-aside">
              <!-- User defined GitHub URL -->
              <a href="https://github.com/openzfs/zfs/blob/zfs-0.7.13/man/man8/zfs.8" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="zfs-8">
<h1>zfs.8<a class="headerlink" href="#zfs-8" title="Link to this heading">ÔÉÅ</a></h1>
<div class="man_container"><table class="head">
  <tr>
    <td class="head-ltitle">ZFS(8)</td>
    <td class="head-vol">System Manager's Manual (smm)</td>
    <td class="head-rtitle">ZFS(8)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp"><code class="Nm">zfs</code> &#x2014; <span class="Nd">configures
    ZFS file systems</span></p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<table class="Nm">
  <tr>
    <td><code class="Nm">zfs</code></td>
    <td><code class="Fl">-</code>?</td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">zfs</code></td>
    <td><code class="Cm">create</code> [<code class="Fl">-p</code>]
      [<code class="Fl">-o</code>
      <var class="Ar">property</var>=<var class="Ar">value</var>]...
      <var class="Ar">filesystem</var></td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">zfs</code></td>
    <td><code class="Cm">create</code> [<code class="Fl">-ps</code>]
      [<code class="Fl">-b</code> <var class="Ar">blocksize</var>]
      [<code class="Fl">-o</code>
      <var class="Ar">property</var>=<var class="Ar">value</var>]...
      <code class="Fl">-V</code> <var class="Ar">size</var>
      <var class="Ar">volume</var></td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">zfs</code></td>
    <td><code class="Cm">destroy</code> [<code class="Fl">-Rfnprv</code>]
      <var class="Ar">filesystem</var>|<var class="Ar">volume</var></td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">zfs</code></td>
    <td><code class="Cm">destroy</code> [<code class="Fl">-Rdnprv</code>]
      <var class="Ar">filesystem</var>|<var class="Ar">volume</var>@<var class="Ar">snap</var>[%<var class="Ar">snap</var>[,<var class="Ar">snap</var>[%<var class="Ar">snap</var>]]]...</td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">zfs</code></td>
    <td><code class="Cm">destroy</code>
      <var class="Ar">filesystem</var>|<var class="Ar">volume</var>#<var class="Ar">bookmark</var></td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">zfs</code></td>
    <td><code class="Cm">snapshot</code> [<code class="Fl">-r</code>]
      [<code class="Fl">-o</code> <var class="Ar">property</var>=value]...
      <var class="Ar">filesystem</var>@<var class="Ar">snapname</var>|<var class="Ar">volume</var>@<var class="Ar">snapname</var>...</td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">zfs</code></td>
    <td><code class="Cm">rollback</code> [<code class="Fl">-Rfr</code>]
      <var class="Ar">snapshot</var></td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">zfs</code></td>
    <td><code class="Cm">clone</code> [<code class="Fl">-p</code>]
      [<code class="Fl">-o</code>
      <var class="Ar">property</var>=<var class="Ar">value</var>]...
      <var class="Ar">snapshot</var>
      <var class="Ar">filesystem</var>|<var class="Ar">volume</var></td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">zfs</code></td>
    <td><code class="Cm">promote</code>
      <var class="Ar">clone-filesystem</var></td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">zfs</code></td>
    <td><code class="Cm">rename</code> [<code class="Fl">-f</code>]
      <var class="Ar">filesystem</var>|<var class="Ar">volume</var>|<var class="Ar">snapshot</var>
      <var class="Ar">filesystem</var>|<var class="Ar">volume</var>|<var class="Ar">snapshot</var></td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">zfs</code></td>
    <td><code class="Cm">rename</code> [<code class="Fl">-fp</code>]
      <var class="Ar">filesystem</var>|<var class="Ar">volume</var>
      <var class="Ar">filesystem</var>|<var class="Ar">volume</var></td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">zfs</code></td>
    <td><code class="Cm">rename</code> <code class="Fl">-r</code>
      <var class="Ar">snapshot</var> <var class="Ar">snapshot</var></td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">zfs</code></td>
    <td><code class="Cm">list</code>
      [<code class="Fl">-r</code>|<code class="Fl">-d</code>
      <var class="Ar">depth</var>] [<code class="Fl">-Hp</code>]
      [<code class="Fl">-o</code>
      <var class="Ar">property</var>[,<var class="Ar">property</var>]...]
      [<code class="Fl">-s</code> <var class="Ar">property</var>]...
      [<code class="Fl">-S</code> <var class="Ar">property</var>]...
      [<code class="Fl">-t</code>
      <var class="Ar">type</var>[,<var class="Ar">type</var>]...]
      [<var class="Ar">filesystem</var>|<var class="Ar">volume</var>|<var class="Ar">snapshot</var>]...</td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">zfs</code></td>
    <td><code class="Cm">set</code>
      <var class="Ar">property</var>=<var class="Ar">value</var>
      [<var class="Ar">property</var>=<var class="Ar">value</var>]...
      <var class="Ar">filesystem</var>|<var class="Ar">volume</var>|<var class="Ar">snapshot</var>...</td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">zfs</code></td>
    <td><code class="Cm">get</code>
      [<code class="Fl">-r</code>|<code class="Fl">-d</code>
      <var class="Ar">depth</var>] [<code class="Fl">-Hp</code>]
      [<code class="Fl">-o</code>
      <var class="Ar">field</var>[,<var class="Ar">field</var>]...]
      [<code class="Fl">-s</code>
      <var class="Ar">source</var>[,<var class="Ar">source</var>]...]
      [<code class="Fl">-t</code>
      <var class="Ar">type</var>[,<var class="Ar">type</var>]...]
      <code class="Cm">all</code> |
      <var class="Ar">property</var>[,<var class="Ar">property</var>]...
      <var class="Ar">filesystem</var>|<var class="Ar">volume</var>|<var class="Ar">snapshot</var>|<var class="Ar">bookmark</var>...</td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">zfs</code></td>
    <td><code class="Cm">inherit</code> [<code class="Fl">-rS</code>]
      <var class="Ar">property</var>
      <var class="Ar">filesystem</var>|<var class="Ar">volume</var>|<var class="Ar">snapshot</var>...</td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">zfs</code></td>
    <td><code class="Cm">upgrade</code></td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">zfs</code></td>
    <td><code class="Cm">upgrade</code> <code class="Fl">-v</code></td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">zfs</code></td>
    <td><code class="Cm">upgrade</code> [<code class="Fl">-r</code>]
      [<code class="Fl">-V</code> <var class="Ar">version</var>]
      <code class="Fl">-a</code> | <var class="Ar">filesystem</var></td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">zfs</code></td>
    <td><code class="Cm">userspace</code> [<code class="Fl">-Hinp</code>]
      [<code class="Fl">-o</code>
      <var class="Ar">field</var>[,<var class="Ar">field</var>]...]
      [<code class="Fl">-s</code> <var class="Ar">field</var>]...
      [<code class="Fl">-S</code> <var class="Ar">field</var>]...
      [<code class="Fl">-t</code>
      <var class="Ar">type</var>[,<var class="Ar">type</var>]...]
      <var class="Ar">filesystem</var>|<var class="Ar">snapshot</var></td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">zfs</code></td>
    <td><code class="Cm">groupspace</code> [<code class="Fl">-Hinp</code>]
      [<code class="Fl">-o</code>
      <var class="Ar">field</var>[,<var class="Ar">field</var>]...]
      [<code class="Fl">-s</code> <var class="Ar">field</var>]...
      [<code class="Fl">-S</code> <var class="Ar">field</var>]...
      [<code class="Fl">-t</code>
      <var class="Ar">type</var>[,<var class="Ar">type</var>]...]
      <var class="Ar">filesystem</var>|<var class="Ar">snapshot</var></td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">zfs</code></td>
    <td><code class="Cm">mount</code></td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">zfs</code></td>
    <td><code class="Cm">mount</code> [<code class="Fl">-Ov</code>]
      [<code class="Fl">-o</code> <var class="Ar">options</var>]
      <code class="Fl">-a</code> | <var class="Ar">filesystem</var></td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">zfs</code></td>
    <td><code class="Cm">unmount</code> [<code class="Fl">-f</code>]
      <code class="Fl">-a</code> |
      <var class="Ar">filesystem</var>|<var class="Ar">mountpoint</var></td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">zfs</code></td>
    <td><code class="Cm">share</code> <code class="Fl">-a</code> |
      <var class="Ar">filesystem</var></td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">zfs</code></td>
    <td><code class="Cm">unshare</code> <code class="Fl">-a</code> |
      <var class="Ar">filesystem</var>|<var class="Ar">mountpoint</var></td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">zfs</code></td>
    <td><code class="Cm">bookmark</code> <var class="Ar">snapshot
      bookmark</var></td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">zfs</code></td>
    <td><code class="Cm">send</code> [<code class="Fl">-DLPRcenpv</code>]
      [[<code class="Fl">-I</code>|<code class="Fl">-i</code>]
      <var class="Ar">snapshot</var>] <var class="Ar">snapshot</var></td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">zfs</code></td>
    <td><code class="Cm">send</code> [<code class="Fl">-Lce</code>]
      [<code class="Fl">-i</code>
      <var class="Ar">snapshot</var>|<var class="Ar">bookmark</var>]
      <var class="Ar">filesystem</var>|<var class="Ar">volume</var>|<var class="Ar">snapshot</var></td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">zfs</code></td>
    <td><code class="Cm">send</code> [<code class="Fl">-Penv</code>]
      <code class="Fl">-t</code> <var class="Ar">receive_resume_token</var></td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">zfs</code></td>
    <td><code class="Cm">receive</code> [<code class="Fl">-Fnsuv</code>]
      [<code class="Fl">-o</code>
      <b class="Sy">origin</b>=<var class="Ar">snapshot</var>]
      [<code class="Fl">-o</code>
      <var class="Ar">property</var>=<var class="Ar">value</var>]
      [<code class="Fl">-x</code> <var class="Ar">property</var>]
      <var class="Ar">filesystem</var>|<var class="Ar">volume</var>|<var class="Ar">snapshot</var></td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">zfs</code></td>
    <td><code class="Cm">receive</code> [<code class="Fl">-Fnsuv</code>]
      [<code class="Fl">-d</code>|<code class="Fl">-e</code>]
      [<code class="Fl">-o</code>
      <b class="Sy">origin</b>=<var class="Ar">snapshot</var>]
      [<code class="Fl">-o</code>
      <var class="Ar">property</var>=<var class="Ar">value</var>]
      [<code class="Fl">-x</code> <var class="Ar">property</var>]
      <var class="Ar">filesystem</var></td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">zfs</code></td>
    <td><code class="Cm">receive</code> <code class="Fl">-A</code>
      <var class="Ar">filesystem</var>|<var class="Ar">volume</var></td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">zfs</code></td>
    <td><code class="Cm">allow</code>
      <var class="Ar">filesystem</var>|<var class="Ar">volume</var></td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">zfs</code></td>
    <td><code class="Cm">allow</code> [<code class="Fl">-dglu</code>]
      <var class="Ar">user</var>|<var class="Ar">group</var>[,<var class="Ar">user</var>|<var class="Ar">group</var>]...
      <var class="Ar">perm</var>|@<var class="Ar">setname</var>[,<var class="Ar">perm</var>|@<var class="Ar">setname</var>]...
      <var class="Ar">filesystem</var>|<var class="Ar">volume</var></td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">zfs</code></td>
    <td><code class="Cm">allow</code> [<code class="Fl">-dl</code>]
      <code class="Fl">-e</code>|<b class="Sy">everyone</b>
      <var class="Ar">perm</var>|@<var class="Ar">setname</var>[,<var class="Ar">perm</var>|@<var class="Ar">setname</var>]...
      <var class="Ar">filesystem</var>|<var class="Ar">volume</var></td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">zfs</code></td>
    <td><code class="Cm">allow</code> <code class="Fl">-c</code>
      <var class="Ar">perm</var>|@<var class="Ar">setname</var>[,<var class="Ar">perm</var>|@<var class="Ar">setname</var>]...
      <var class="Ar">filesystem</var>|<var class="Ar">volume</var></td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">zfs</code></td>
    <td><code class="Cm">allow</code> <code class="Fl">-s</code>
      <span class="No">@</span><var class="Ar">setname</var>
      <var class="Ar">perm</var>|@<var class="Ar">setname</var>[,<var class="Ar">perm</var>|@<var class="Ar">setname</var>]...
      <var class="Ar">filesystem</var>|<var class="Ar">volume</var></td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">zfs</code></td>
    <td><code class="Cm">unallow</code> [<code class="Fl">-dglru</code>]
      <var class="Ar">user</var>|<var class="Ar">group</var>[,<var class="Ar">user</var>|<var class="Ar">group</var>]...
      [<var class="Ar">perm</var>|@<var class="Ar">setname</var>[,<var class="Ar">perm</var>|@<var class="Ar">setname</var>]...]
      <var class="Ar">filesystem</var>|<var class="Ar">volume</var></td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">zfs</code></td>
    <td><code class="Cm">unallow</code> [<code class="Fl">-dlr</code>]
      <code class="Fl">-e</code>|<b class="Sy">everyone</b>
      [<var class="Ar">perm</var>|@<var class="Ar">setname</var>[,<var class="Ar">perm</var>|@<var class="Ar">setname</var>]...]
      <var class="Ar">filesystem</var>|<var class="Ar">volume</var></td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">zfs</code></td>
    <td><code class="Cm">unallow</code> [<code class="Fl">-r</code>]
      <code class="Fl">-c</code>
      [<var class="Ar">perm</var>|@<var class="Ar">setname</var>[,<var class="Ar">perm</var>|@<var class="Ar">setname</var>]...]
      <var class="Ar">filesystem</var>|<var class="Ar">volume</var></td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">zfs</code></td>
    <td><code class="Cm">unallow</code> [<code class="Fl">-r</code>]
      <code class="Fl">-s</code>
      <code class="Fl">-@</code><var class="Ar">setname</var>
      [<var class="Ar">perm</var>|@<var class="Ar">setname</var>[,<var class="Ar">perm</var>|@<var class="Ar">setname</var>]...]
      <var class="Ar">filesystem</var>|<var class="Ar">volume</var></td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">zfs</code></td>
    <td><code class="Cm">hold</code> [<code class="Fl">-r</code>]
      <var class="Ar">tag</var> <var class="Ar">snapshot</var>...</td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">zfs</code></td>
    <td><code class="Cm">holds</code> [<code class="Fl">-r</code>]
      <var class="Ar">snapshot</var>...</td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">zfs</code></td>
    <td><code class="Cm">release</code> [<code class="Fl">-r</code>]
      <var class="Ar">tag</var> <var class="Ar">snapshot</var>...</td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">zfs</code></td>
    <td><code class="Cm">diff</code> [<code class="Fl">-FHt</code>]
      <var class="Ar">snapshot</var>
      <var class="Ar">snapshot</var>|<var class="Ar">filesystem</var></td>
  </tr>
</table>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">The <code class="Nm">zfs</code> command configures ZFS datasets
    within a ZFS storage pool, as described in <a href="../8/zpool.8.html" class="Xr">zpool(8)</a>. A
    dataset is identified by a unique path within the ZFS namespace. For
    example:</p>
<div class="Bd Pp Li">
<pre>pool/{filesystem,volume,snapshot}</pre>
</div>
<p class="Pp">where the maximum length of a dataset name is
    <code class="Dv">MAXNAMELEN</code> (256 bytes).</p>
<p class="Pp">A dataset can be one of the following:</p>
<dl class="Bl-tag">
  <dt id="file"><a class="permalink" href="#file"><b class="Sy">file
    system</b></a></dt>
  <dd>A ZFS dataset of type <b class="Sy">filesystem</b> can be mounted within
      the standard system namespace and behaves like other file systems. While
      ZFS file systems are designed to be POSIX compliant, known issues exist
      that prevent compliance in some cases. Applications that depend on
      standards conformance might fail due to non-standard behavior when
      checking file system free space.</dd>
  <dt id="volume"><a class="permalink" href="#volume"><b class="Sy">volume</b></a></dt>
  <dd>A logical volume exported as a raw or block device. This type of dataset
      should only be used under special circumstances. File systems are
      typically used in most environments.</dd>
  <dt id="snapshot"><a class="permalink" href="#snapshot"><b class="Sy">snapshot</b></a></dt>
  <dd>A read-only version of a file system or volume at a given point in time.
      It is specified as
      <var class="Ar">filesystem</var>@<var class="Ar">name</var> or
      <var class="Ar">volume</var>@<var class="Ar">name</var>.</dd>
  <dt id="bookmark"><a class="permalink" href="#bookmark"><b class="Sy">bookmark</b></a></dt>
  <dd>Much like a <b class="Sy">snapshot</b>, but without the hold on on-disk
      data. It can be used as the source of a send (but not for a receive). It
      is specified as
      <var class="Ar">filesystem</var>#<var class="Ar">name</var> or
      <var class="Ar">volume</var>#<var class="Ar">name</var>.</dd>
</dl>
<section class="Ss">
<h2 class="Ss" id="ZFS_File_System_Hierarchy"><a class="permalink" href="#ZFS_File_System_Hierarchy">ZFS
  File System Hierarchy</a></h2>
<p class="Pp">A ZFS storage pool is a logical collection of devices that provide
    space for datasets. A storage pool is also the root of the ZFS file system
    hierarchy.</p>
<p class="Pp">The root of the pool can be accessed as a file system, such as
    mounting and unmounting, taking snapshots, and setting properties. The
    physical storage characteristics, however, are managed by the
    <a href="../8/zpool.8.html" class="Xr">zpool(8)</a> command.</p>
<p class="Pp">See <a href="../8/zpool.8.html" class="Xr">zpool(8)</a> for more information on creating
    and administering pools.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Snapshots"><a class="permalink" href="#Snapshots">Snapshots</a></h2>
<p class="Pp">A snapshot is a read-only copy of a file system or volume.
    Snapshots can be created extremely quickly, and initially consume no
    additional space within the pool. As data within the active dataset changes,
    the snapshot consumes more data than would otherwise be shared with the
    active dataset.</p>
<p class="Pp">Snapshots can have arbitrary names. Snapshots of volumes can be
    cloned or rolled back, visibility is determined by the
    <b class="Sy">snapdev</b> property of the parent volume.</p>
<p class="Pp">File system snapshots can be accessed under the
    <span class="Pa">.zfs/snapshot</span> directory in the root of the file
    system. Snapshots are automatically mounted on demand and may be unmounted
    at regular intervals. The visibility of the <span class="Pa">.zfs</span>
    directory can be controlled by the <b class="Sy">snapdir</b> property.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Bookmarks"><a class="permalink" href="#Bookmarks">Bookmarks</a></h2>
<p class="Pp">A bookmark is like a snapshot, a read-only copy of a file system
    or volume. Bookmarks can be created extremely quickly, compared to
    snapshots, and they consume no additional space within the pool. Bookmarks
    can also have arbitrary names, much like snapshots.</p>
<p class="Pp">Unlike snapshots, bookmarks can not be accessed through the
    filesystem in any way. From a storage standpoint a bookmark just provides a
    way to reference when a snapshot was created as a distinct object. Bookmarks
    are initially tied to a snapshot, not the filesystem or volume, and they
    will survive if the snapshot itself is destroyed. Since they are very light
    weight there's little incentive to destroy them.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Clones"><a class="permalink" href="#Clones">Clones</a></h2>
<p class="Pp">A clone is a writable volume or file system whose initial contents
    are the same as another dataset. As with snapshots, creating a clone is
    nearly instantaneous, and initially consumes no additional space.</p>
<p class="Pp">Clones can only be created from a snapshot. When a snapshot is
    cloned, it creates an implicit dependency between the parent and child. Even
    though the clone is created somewhere else in the dataset hierarchy, the
    original snapshot cannot be destroyed as long as a clone exists. The
    <b class="Sy">origin</b> property exposes this dependency, and the
    <code class="Cm">destroy</code> command lists any such dependencies, if they
    exist.</p>
<p class="Pp">The clone parent-child dependency relationship can be reversed by
    using the <code class="Cm">promote</code> subcommand. This causes the
    &quot;origin&quot; file system to become a clone of the specified file
    system, which makes it possible to destroy the file system that the clone
    was created from.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Mount_Points"><a class="permalink" href="#Mount_Points">Mount
  Points</a></h2>
<p class="Pp">Creating a ZFS file system is a simple operation, so the number of
    file systems per system is likely to be numerous. To cope with this, ZFS
    automatically manages mounting and unmounting file systems without the need
    to edit the <span class="Pa">/etc/fstab</span> file. All automatically
    managed file systems are mounted by ZFS at boot time.</p>
<p class="Pp">By default, file systems are mounted under
    <span class="Pa">/path</span>, where <var class="Ar">path</var> is the name
    of the file system in the ZFS namespace. Directories are created and
    destroyed as needed.</p>
<p class="Pp" id="pool/home/user">A file system can also have a mount point set
    in the <b class="Sy">mountpoint</b> property. This directory is created as
    needed, and ZFS automatically mounts the file system when the
    <code class="Nm">zfs</code> <code class="Cm">mount</code>
    <code class="Fl">-a</code> command is invoked (without editing
    <span class="Pa">/etc/fstab</span>). The <b class="Sy">mountpoint</b>
    property can be inherited, so if <i class="Em">pool/home</i> has a mount
    point of <span class="Pa">/export/stuff</span>, then
    <a class="permalink" href="#pool/home/user"><i class="Em">pool/home/user</i></a>
    automatically inherits a mount point of
    <span class="Pa">/export/stuff/user</span>.</p>
<p class="Pp">A file system <b class="Sy">mountpoint</b> property of
    <b class="Sy">none</b> prevents the file system from being mounted.</p>
<p class="Pp">If needed, ZFS file systems can also be managed with traditional
    tools (<code class="Nm">mount</code>, <code class="Nm">umount</code>,
    <span class="Pa">/etc/fstab</span>). If a file system's mount point is set
    to <b class="Sy">legacy</b>, ZFS makes no attempt to manage the file system,
    and the administrator is responsible for mounting and unmounting the file
    system. Because pools must be imported before a legacy mount can succeed,
    administrators should ensure that legacy mounts are only attempted after the
    zpool import process finishes at boot time. For example, on machines using
    systemd, the mount option</p>
<p class="Pp"><code class="Nm">x-systemd.requires=zfs-import.target</code></p>
<p class="Pp">will ensure that the zfs-import completes before systemd attempts
    mounting the filesystem. See systemd.mount(5) for details.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Deduplication"><a class="permalink" href="#Deduplication">Deduplication</a></h2>
<p class="Pp">Deduplication is the process for removing redundant data at the
    block level, reducing the total amount of data stored. If a file system has
    the <b class="Sy">dedup</b> property enabled, duplicate data blocks are
    removed synchronously. The result is that only unique data is stored and
    common components are shared among files.</p>
<p class="Pp">Deduplicating data is a very resource-intensive operation. It is
    generally recommended that you have at least 1.25 GiB of RAM per 1 TiB of
    storage when you enable deduplication. Calculating the exact requirement
    depends heavily on the type of data stored in the pool.</p>
<p class="Pp">Enabling deduplication on an improperly-designed system can result
    in performance issues (slow IO and administrative operations). It can
    potentially lead to problems importing a pool due to memory exhaustion.
    Deduplication can consume significant processing power (CPU) and memory as
    well as generate additional disk IO.</p>
<p class="Pp" id="compression=lz4">Before creating a pool with deduplication
    enabled, ensure that you have planned your hardware requirements
    appropriately and implemented appropriate recovery practices, such as
    regular backups. As an alternative to deduplication consider using
    <a class="permalink" href="#compression=lz4"><b class="Sy">compression=lz4</b></a>,
    as a less resource-intensive alternative.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Native_Properties"><a class="permalink" href="#Native_Properties">Native
  Properties</a></h2>
<p class="Pp">Properties are divided into two types, native properties and
    user-defined (or &quot;user&quot;) properties. Native properties either
    export internal statistics or control ZFS behavior. In addition, native
    properties are either editable or read-only. User properties have no effect
    on ZFS behavior, but you can use them to annotate datasets in a way that is
    meaningful in your environment. For more information about user properties,
    see the <a class="Sx" href="#User_Properties">User Properties</a> section,
    below.</p>
<p class="Pp">Every dataset has a set of properties that export statistics about
    the dataset as well as control various behaviors. Properties are inherited
    from the parent unless overridden by the child. Some properties apply only
    to certain types of datasets (file systems, volumes, or snapshots).</p>
<p class="Pp" id="k">The values of numeric properties can be specified using
    human-readable suffixes (for example,
    <a class="permalink" href="#k"><b class="Sy">k</b></a>,
    <a class="permalink" href="#KB"><b class="Sy" id="KB">KB</b></a>,
    <b class="Sy">M</b>,
    <a class="permalink" href="#Gb"><b class="Sy" id="Gb">Gb</b></a>, and so
    forth, up to <b class="Sy">Z</b> for zettabyte). The following are all valid
    (and equal) specifications: <code class="Li">1536M, 1.5g, 1.50GB</code>.</p>
<p class="Pp">The values of non-numeric properties are case sensitive and must
    be lowercase, except for <b class="Sy">mountpoint</b>,
    <b class="Sy">sharenfs</b>, and <b class="Sy">sharesmb</b>.</p>
<p class="Pp">The following native properties consist of read-only statistics
    about the dataset. These properties can be neither set, nor inherited.
    Native properties apply to all dataset types unless otherwise noted.</p>
<dl class="Bl-tag">
  <dt id="available"><a class="permalink" href="#available"><b class="Sy">available</b></a></dt>
  <dd>The amount of space available to the dataset and all its children,
      assuming that there is no other activity in the pool. Because space is
      shared within a pool, availability can be limited by any number of
      factors, including physical pool size, quotas, reservations, or other
      datasets within the pool.
    <p class="Pp">This property can also be referred to by its shortened column
        name, <b class="Sy">avail</b>.</p>
  </dd>
  <dt id="compressratio"><a class="permalink" href="#compressratio"><b class="Sy">compressratio</b></a></dt>
  <dd>For non-snapshots, the compression ratio achieved for the
      <b class="Sy">used</b> space of this dataset, expressed as a multiplier.
      The <b class="Sy">used</b> property includes descendant datasets, and, for
      clones, does not include the space shared with the origin snapshot. For
      snapshots, the <b class="Sy">compressratio</b> is the same as the
      <b class="Sy">refcompressratio</b> property. Compression can be turned on
      by running: <code class="Nm">zfs</code> <code class="Cm">set</code>
      <b class="Sy">compression</b>=<b class="Sy">on</b>
      <var class="Ar">dataset</var>. The default value is
    <b class="Sy">off</b>.</dd>
  <dt id="createtxg"><a class="permalink" href="#createtxg"><b class="Sy">createtxg</b></a></dt>
  <dd>The transaction group (txg) in which the dataset was created. Bookmarks
      have the same <b class="Sy">createtxg</b> as the snapshot they are
      initially tied to. This property is suitable for ordering a list of
      snapshots, e.g. for incremental send and receive.</dd>
  <dt id="creation"><a class="permalink" href="#creation"><b class="Sy">creation</b></a></dt>
  <dd>The time this dataset was created.</dd>
  <dt id="clones"><a class="permalink" href="#clones"><b class="Sy">clones</b></a></dt>
  <dd>For snapshots, this property is a comma-separated list of filesystems or
      volumes which are clones of this snapshot. The clones'
      <b class="Sy">origin</b> property is this snapshot. If the
      <b class="Sy">clones</b> property is not empty, then this snapshot can not
      be destroyed (even with the <code class="Fl">-r</code> or
      <code class="Fl">-f</code> options). The roles of origin and clone can be
      swapped by promoting the clone with the <code class="Nm">zfs</code>
      <code class="Cm">promote</code> command.</dd>
  <dt id="defer_destroy"><a class="permalink" href="#defer_destroy"><b class="Sy">defer_destroy</b></a></dt>
  <dd>This property is <b class="Sy">on</b> if the snapshot has been marked for
      deferred destroy by using the <code class="Nm">zfs</code>
      <code class="Cm">destroy</code> <code class="Fl">-d</code> command.
      Otherwise, the property is <b class="Sy">off</b>.</dd>
  <dt id="filesystem_count"><a class="permalink" href="#filesystem_count"><b class="Sy">filesystem_count</b></a></dt>
  <dd>The total number of filesystems and volumes that exist under this location
      in the dataset tree. This value is only available when a
      <b class="Sy">filesystem_limit</b> has been set somewhere in the tree
      under which the dataset resides.</dd>
  <dt id="guid"><a class="permalink" href="#guid"><b class="Sy">guid</b></a></dt>
  <dd>The 64 bit GUID of this dataset or bookmark which does not change over its
      entire lifetime. When a snapshot is sent to another pool, the received
      snapshot has the same GUID. Thus, the <b class="Sy">guid</b> is suitable
      to identify a snapshot across pools.</dd>
  <dt id="logicalreferenced"><a class="permalink" href="#logicalreferenced"><b class="Sy">logicalreferenced</b></a></dt>
  <dd>The amount of space that is &quot;logically&quot; accessible by this
      dataset. See the <b class="Sy">referenced</b> property. The logical space
      ignores the effect of the <b class="Sy">compression</b> and
      <b class="Sy">copies</b> properties, giving a quantity closer to the
      amount of data that applications see. However, it does include space
      consumed by metadata.
    <p class="Pp" id="lrefer">This property can also be referred to by its
        shortened column name,
        <a class="permalink" href="#lrefer"><b class="Sy">lrefer</b></a>.</p>
  </dd>
  <dt id="logicalused"><a class="permalink" href="#logicalused"><b class="Sy">logicalused</b></a></dt>
  <dd>The amount of space that is &quot;logically&quot; consumed by this dataset
      and all its descendents. See the <b class="Sy">used</b> property. The
      logical space ignores the effect of the <b class="Sy">compression</b> and
      <b class="Sy">copies</b> properties, giving a quantity closer to the
      amount of data that applications see. However, it does include space
      consumed by metadata.
    <p class="Pp" id="lused">This property can also be referred to by its
        shortened column name,
        <a class="permalink" href="#lused"><b class="Sy">lused</b></a>.</p>
  </dd>
  <dt id="mounted"><a class="permalink" href="#mounted"><b class="Sy">mounted</b></a></dt>
  <dd>For file systems, indicates whether the file system is currently mounted.
      This property can be either
      <a class="permalink" href="#yes"><b class="Sy" id="yes">yes</b></a> or
      <a class="permalink" href="#no"><b class="Sy" id="no">no</b></a>.</dd>
  <dt id="origin"><a class="permalink" href="#origin"><b class="Sy">origin</b></a></dt>
  <dd>For cloned file systems or volumes, the snapshot from which the clone was
      created. See also the <b class="Sy">clones</b> property.</dd>
  <dt id="receive_resume_token"><a class="permalink" href="#receive_resume_token"><b class="Sy">receive_resume_token</b></a></dt>
  <dd>For filesystems or volumes which have saved partially-completed state from
      <b class="Sy">zfs receive -s</b>, this opaque token can be provided to
      <b class="Sy">zfs send -t</b> to resume and complete the <b class="Sy">zfs
      receive</b>.</dd>
  <dt id="referenced"><a class="permalink" href="#referenced"><b class="Sy">referenced</b></a></dt>
  <dd>The amount of data that is accessible by this dataset, which may or may
      not be shared with other datasets in the pool. When a snapshot or clone is
      created, it initially references the same amount of space as the file
      system or snapshot it was created from, since its contents are identical.
    <p class="Pp" id="refer">This property can also be referred to by its
        shortened column name,
        <a class="permalink" href="#refer"><b class="Sy">refer</b></a>.</p>
  </dd>
  <dt id="refcompressratio"><a class="permalink" href="#refcompressratio"><b class="Sy">refcompressratio</b></a></dt>
  <dd>The compression ratio achieved for the <b class="Sy">referenced</b> space
      of this dataset, expressed as a multiplier. See also the
      <b class="Sy">compressratio</b> property.</dd>
  <dt id="snapshot_count"><a class="permalink" href="#snapshot_count"><b class="Sy">snapshot_count</b></a></dt>
  <dd>The total number of snapshots that exist under this location in the
      dataset tree. This value is only available when a
      <b class="Sy">snapshot_limit</b> has been set somewhere in the tree under
      which the dataset resides.</dd>
  <dt id="type"><a class="permalink" href="#type"><b class="Sy">type</b></a></dt>
  <dd>The type of dataset: <b class="Sy">filesystem</b>,
      <b class="Sy">volume</b>, or <b class="Sy">snapshot</b>.</dd>
  <dt id="used"><a class="permalink" href="#used"><b class="Sy">used</b></a></dt>
  <dd>The amount of space consumed by this dataset and all its descendents. This
      is the value that is checked against this dataset's quota and reservation.
      The space used does not include this dataset's reservation, but does take
      into account the reservations of any descendent datasets. The amount of
      space that a dataset consumes from its parent, as well as the amount of
      space that is freed if this dataset is recursively destroyed, is the
      greater of its space used and its reservation.
    <p class="Pp">The used space of a snapshot (see the
        <a class="Sx" href="#Snapshots">Snapshots</a> section) is space that is
        referenced exclusively by this snapshot. If this snapshot is destroyed,
        the amount of <b class="Sy">used</b> space will be freed. Space that is
        shared by multiple snapshots isn't accounted for in this metric. When a
        snapshot is destroyed, space that was previously shared with this
        snapshot can become unique to snapshots adjacent to it, thus changing
        the used space of those snapshots. The used space of the latest snapshot
        can also be affected by changes in the file system. Note that the
        <b class="Sy">used</b> space of a snapshot is a subset of the
        <b class="Sy">written</b> space of the snapshot.</p>
    <p class="Pp">The amount of space used, available, or referenced does not
        take into account pending changes. Pending changes are generally
        accounted for within a few seconds. Committing a change to a disk using
        <a class="Xr">fsync(2)</a> or <code class="Dv">O_SYNC</code> does not
        necessarily guarantee that the space usage information is updated
        immediately.</p>
  </dd>
  <dt id="usedby*"><a class="permalink" href="#usedby*"><b class="Sy">usedby*</b></a></dt>
  <dd>The <b class="Sy">usedby*</b> properties decompose the
      <b class="Sy">used</b> properties into the various reasons that space is
      used. Specifically, <b class="Sy">used</b> <span class="No">=</span>
      <b class="Sy">usedbychildren</b> <span class="No">+</span>
      <b class="Sy">usedbydataset</b> <span class="No">+</span>
      <b class="Sy">usedbyrefreservation</b> <span class="No">+</span>
      <b class="Sy">usedbysnapshots</b>. These properties are only available for
      datasets created on <code class="Nm">zpool</code> &quot;version 13&quot;
      pools.</dd>
  <dt id="usedbychildren"><a class="permalink" href="#usedbychildren"><b class="Sy">usedbychildren</b></a></dt>
  <dd>The amount of space used by children of this dataset, which would be freed
      if all the dataset's children were destroyed.</dd>
  <dt id="usedbydataset"><a class="permalink" href="#usedbydataset"><b class="Sy">usedbydataset</b></a></dt>
  <dd>The amount of space used by this dataset itself, which would be freed if
      the dataset were destroyed (after first removing any
      <b class="Sy">refreservation</b> and destroying any necessary snapshots or
      descendents).</dd>
  <dt id="usedbyrefreservation"><a class="permalink" href="#usedbyrefreservation"><b class="Sy">usedbyrefreservation</b></a></dt>
  <dd>The amount of space used by a <b class="Sy">refreservation</b> set on this
      dataset, which would be freed if the <b class="Sy">refreservation</b> was
      removed.</dd>
  <dt id="usedbysnapshots"><a class="permalink" href="#usedbysnapshots"><b class="Sy">usedbysnapshots</b></a></dt>
  <dd>The amount of space consumed by snapshots of this dataset. In particular,
      it is the amount of space that would be freed if all of this dataset's
      snapshots were destroyed. Note that this is not simply the sum of the
      snapshots' <b class="Sy">used</b> properties because space can be shared
      by multiple snapshots.</dd>
  <dt id="userused"><a class="permalink" href="#userused"><b class="Sy">userused</b></a>@<i class="Em">user</i></dt>
  <dd>The amount of space consumed by the specified user in this dataset. Space
      is charged to the owner of each file, as displayed by
      <code class="Nm">ls</code> <code class="Fl">-l</code>. The amount of space
      charged is displayed by <code class="Nm">du</code> and
      <code class="Nm">ls</code> <code class="Fl">-s</code>. See the
      <code class="Nm">zfs</code> <code class="Cm">userspace</code> subcommand
      for more information.
    <p class="Pp">Unprivileged users can access only their own space usage. The
        root user, or a user who has been granted the <b class="Sy">userused</b>
        privilege with <code class="Nm">zfs</code>
        <code class="Cm">allow</code>, can access everyone's usage.</p>
    <p class="Pp">The <b class="Sy">userused</b>@<i class="Em">...</i>
        properties are not displayed by <code class="Nm">zfs</code>
        <code class="Cm">get</code> <b class="Sy">all</b>. The user's name must
        be appended after the @ symbol, using one of the following forms:</p>
    <ul class="Bl-bullet">
      <li id="POSIX"><a class="permalink" href="#POSIX"><i class="Em">POSIX
          name</i></a> (for example, <b class="Sy">joe</b>)</li>
      <li id="POSIX~2"><a class="permalink" href="#POSIX~2"><i class="Em">POSIX
          numeric ID</i></a> (for example, <b class="Sy">789</b>)</li>
      <li id="SID"><a class="permalink" href="#SID"><i class="Em">SID
          name</i></a> (for example, <b class="Sy">joe.smith@mydomain</b>)</li>
      <li id="SID~2"><a class="permalink" href="#SID~2"><i class="Em">SID
          numeric ID</i></a> (for example,
        <b class="Sy">S-1-123-456-789</b>)</li>
    </ul>
    <p class="Pp">Files created on Linux always have POSIX owners.</p>
  </dd>
  <dt id="userobjused"><a class="permalink" href="#userobjused"><b class="Sy">userobjused</b></a>@<i class="Em">user</i></dt>
  <dd>The <b class="Sy">userobjused</b> property is similar to
      <b class="Sy">userused</b> but instead it counts the number of objects
      consumed by a user. This property counts all objects allocated on behalf
      of the user, it may differ from the results of system tools such as
      <code class="Nm">df</code> <code class="Fl">-i</code>.
    <p class="Pp" id="xattr=on">When the property
        <a class="permalink" href="#xattr=on"><b class="Sy">xattr=on</b></a> is
        set on a file system additional objects will be created per-file to
        store extended attributes. These additional objects are reflected in the
        <b class="Sy">userobjused</b> value and are counted against the user's
        <b class="Sy">userobjquota</b>. When a file system is configured to use
        <b class="Sy">xattr=sa</b> no additional internal objects are normally
        required.</p>
  </dd>
  <dt id="userrefs"><a class="permalink" href="#userrefs"><b class="Sy">userrefs</b></a></dt>
  <dd>This property is set to the number of user holds on this snapshot. User
      holds are set by using the <code class="Nm">zfs</code>
      <code class="Cm">hold</code> command.</dd>
  <dt id="groupused"><a class="permalink" href="#groupused"><b class="Sy">groupused</b></a>@<i class="Em">group</i></dt>
  <dd>The amount of space consumed by the specified group in this dataset. Space
      is charged to the group of each file, as displayed by
      <code class="Nm">ls</code> <code class="Fl">-l</code>. See the
      <b class="Sy">userused</b>@<i class="Em">user</i> property for more
      information.
    <p class="Pp">Unprivileged users can only access their own groups' space
        usage. The root user, or a user who has been granted the
        <b class="Sy">groupused</b> privilege with <code class="Nm">zfs</code>
        <code class="Cm">allow</code>, can access all groups' usage.</p>
  </dd>
  <dt id="groupobjused"><a class="permalink" href="#groupobjused"><b class="Sy">groupobjused</b></a>@<i class="Em">group</i></dt>
  <dd>The number of objects consumed by the specified group in this dataset.
      Multiple objects may be charged to the group for each file when extended
      attributes are in use. See the
      <b class="Sy">userobjused</b>@<i class="Em">user</i> property for more
      information.
    <p class="Pp">Unprivileged users can only access their own groups' space
        usage. The root user, or a user who has been granted the
        <b class="Sy">groupobjused</b> privilege with
        <code class="Nm">zfs</code> <code class="Cm">allow</code>, can access
        all groups' usage.</p>
  </dd>
  <dt id="volblocksize"><a class="permalink" href="#volblocksize"><b class="Sy">volblocksize</b></a></dt>
  <dd>For volumes, specifies the block size of the volume. The
      <b class="Sy">blocksize</b> cannot be changed once the volume has been
      written, so it should be set at volume creation time. The default
      <b class="Sy">blocksize</b> for volumes is 8 Kbytes. Any power of 2 from
      512 bytes to 128 Kbytes is valid.
    <p class="Pp" id="volblock">This property can also be referred to by its
        shortened column name,
        <a class="permalink" href="#volblock"><b class="Sy">volblock</b></a>.</p>
  </dd>
  <dt id="written"><a class="permalink" href="#written"><b class="Sy">written</b></a></dt>
  <dd>The amount of space <b class="Sy">referenced</b> by this dataset, that was
      written since the previous snapshot (i.e. that is not referenced by the
      previous snapshot).</dd>
  <dt id="written~2"><a class="permalink" href="#written~2"><b class="Sy">written</b></a>@<i class="Em">snapshot</i></dt>
  <dd>The amount of <b class="Sy">referenced</b> space written to this dataset
      since the specified snapshot. This is the space that is referenced by this
      dataset but was not referenced by the specified snapshot.
    <p class="Pp">The <i class="Em">snapshot</i> may be specified as a short
        snapshot name (just the part after the <b class="Sy">@</b>), in which
        case it will be interpreted as a snapshot in the same filesystem as this
        dataset. The <i class="Em">snapshot</i> may be a full snapshot name
        (<i class="Em">filesystem</i>@<i class="Em">snapshot</i>), which for
        clones may be a snapshot in the origin's filesystem (or the origin of
        the origin's filesystem, etc.)</p>
  </dd>
</dl>
<p class="Pp">The following native properties can be used to change the behavior
    of a ZFS dataset.</p>
<dl class="Bl-tag">
  <dt id="aclinherit"><a class="permalink" href="#aclinherit"><b class="Sy">aclinherit</b></a>=<b class="Sy">discard</b>|<b class="Sy">noallow</b>|<b class="Sy">restricted</b>|<b class="Sy">passthrough</b>|<b class="Sy">passthrough-x</b></dt>
  <dd>Controls how ACEs are inherited when files and directories are created.
    <dl class="Bl-tag">
      <dt id="discard"><a class="permalink" href="#discard"><b class="Sy">discard</b></a></dt>
      <dd>does not inherit any ACEs.</dd>
      <dt id="noallow"><a class="permalink" href="#noallow"><b class="Sy">noallow</b></a></dt>
      <dd>only inherits inheritable ACEs that specify &quot;deny&quot;
          permissions.</dd>
      <dt id="restricted"><a class="permalink" href="#restricted"><b class="Sy">restricted</b></a></dt>
      <dd>default, removes the
          <a class="permalink" href="#write_acl"><b class="Sy" id="write_acl">write_acl</b></a>
          and
          <a class="permalink" href="#write_owner"><b class="Sy" id="write_owner">write_owner</b></a>
          permissions when the ACE is inherited.</dd>
      <dt id="passthrough"><a class="permalink" href="#passthrough"><b class="Sy">passthrough</b></a></dt>
      <dd>inherits all inheritable ACEs without any modifications.</dd>
      <dt id="passthrough-x"><a class="permalink" href="#passthrough-x"><b class="Sy">passthrough-x</b></a></dt>
      <dd>same meaning as <b class="Sy">passthrough</b>, except that the
          <a class="permalink" href="#owner@"><b class="Sy" id="owner@">owner@</b></a>,
          <a class="permalink" href="#group@"><b class="Sy" id="group@">group@</b></a>,
          and
          <a class="permalink" href="#everyone@"><b class="Sy" id="everyone@">everyone@</b></a>
          ACEs inherit the execute permission only if the file creation mode
          also requests the execute bit.</dd>
    </dl>
    <p class="Pp">When the property value is set to
        <b class="Sy">passthrough</b>, files are created with a mode determined
        by the inheritable ACEs. If no inheritable ACEs exist that affect the
        mode, then the mode is set in accordance to the requested mode from the
        application.</p>
    <p class="Pp">The <b class="Sy">aclinherit</b> property does not apply to
        posix ACLs.</p>
  </dd>
  <dt id="acltype"><a class="permalink" href="#acltype"><b class="Sy">acltype</b></a>=<b class="Sy">off</b>|<b class="Sy">noacl</b>|<b class="Sy">posixacl</b></dt>
  <dd>Controls whether ACLs are enabled and if so what type of ACL to use.
    <dl class="Bl-tag">
      <dt id="off"><a class="permalink" href="#off"><b class="Sy">off</b></a></dt>
      <dd>default, when a file system has the <b class="Sy">acltype</b> property
          set to off then ACLs are disabled.</dd>
      <dt id="noacl"><a class="permalink" href="#noacl"><b class="Sy">noacl</b></a></dt>
      <dd>an alias for <b class="Sy">off</b></dd>
      <dt id="posixacl"><a class="permalink" href="#posixacl"><b class="Sy">posixacl</b></a></dt>
      <dd>indicates posix ACLs should be used. Posix ACLs are specific to Linux
          and are not functional on other platforms. Posix ACLs are stored as an
          extended attribute and therefore will not overwrite any existing NFSv4
          ACLs which may be set.</dd>
    </dl>
    <p class="Pp">To obtain the best performance when setting
        <b class="Sy">posixacl</b> users are strongly encouraged to set the
        <b class="Sy">xattr=sa</b> property. This will result in the posix ACL
        being stored more efficiently on disk. But as a consequence of this all
        new extended attributes will only be accessible from OpenZFS
        implementations which support the <b class="Sy">xattr=sa</b> property.
        See the <b class="Sy">xattr</b> property for more details.</p>
  </dd>
  <dt id="atime"><a class="permalink" href="#atime"><b class="Sy">atime</b></a>=<b class="Sy">on</b>|<b class="Sy">off</b></dt>
  <dd>Controls whether the access time for files is updated when they are read.
      Turning this property off avoids producing write traffic when reading
      files and can result in significant performance gains, though it might
      confuse mailers and other similar utilities. The values
      <b class="Sy">on</b> and <b class="Sy">off</b> are equivalent to the
      <b class="Sy">atime</b> and
      <a class="permalink" href="#noatime"><b class="Sy" id="noatime">noatime</b></a>
      mount options. The default value is <b class="Sy">on</b>. See also
      <b class="Sy">relatime</b> below.</dd>
  <dt id="canmount"><a class="permalink" href="#canmount"><b class="Sy">canmount</b></a>=<b class="Sy">on</b>|<b class="Sy">off</b>|<b class="Sy">noauto</b></dt>
  <dd>If this property is set to <b class="Sy">off</b>, the file system cannot
      be mounted, and is ignored by <code class="Nm">zfs</code>
      <code class="Cm">mount</code> <code class="Fl">-a</code>. Setting this
      property to <b class="Sy">off</b> is similar to setting the
      <b class="Sy">mountpoint</b> property to <b class="Sy">none</b>, except
      that the dataset still has a normal <b class="Sy">mountpoint</b> property,
      which can be inherited. Setting this property to <b class="Sy">off</b>
      allows datasets to be used solely as a mechanism to inherit properties.
      One example of setting <b class="Sy">canmount</b>=<b class="Sy">off</b> is
      to have two datasets with the same <b class="Sy">mountpoint</b>, so that
      the children of both datasets appear in the same directory, but might have
      different inherited characteristics.
    <p class="Pp">When set to <b class="Sy">noauto</b>, a dataset can only be
        mounted and unmounted explicitly. The dataset is not mounted
        automatically when the dataset is created or imported, nor is it mounted
        by the <code class="Nm">zfs</code> <code class="Cm">mount</code>
        <code class="Fl">-a</code> command or unmounted by the
        <code class="Nm">zfs</code> <code class="Cm">unmount</code>
        <code class="Fl">-a</code> command.</p>
    <p class="Pp">This property is not inherited.</p>
  </dd>
  <dt id="checksum"><a class="permalink" href="#checksum"><b class="Sy">checksum</b></a>=<b class="Sy">on</b>|<b class="Sy">off</b>|<a class="permalink" href="#fletcher2"><b class="Sy" id="fletcher2">fletcher2</b></a>|<b class="Sy">fletcher4</b>|<b class="Sy">sha256</b>|<b class="Sy">noparity</b>|<b class="Sy">sha512</b>|<b class="Sy">skein</b>|<b class="Sy">edonr</b></dt>
  <dd>Controls the checksum used to verify data integrity. The default value is
      <b class="Sy">on</b>, which automatically selects an appropriate algorithm
      (currently, <b class="Sy">fletcher4</b>, but this may change in future
      releases). The value <b class="Sy">off</b> disables integrity checking on
      user data. The value <b class="Sy">noparity</b> not only disables
      integrity but also disables maintaining parity for user data. This setting
      is used internally by a dump device residing on a RAID-Z pool and should
      not be used by any other dataset. Disabling checksums is
      <b class="Sy">NOT</b> a recommended practice.
    <p class="Pp" id="bootfs">The <b class="Sy">sha512</b>,
        <b class="Sy">skein</b>, and <b class="Sy">edonr</b> checksum algorithms
        require enabling the appropriate features on the pool. These algorithms
        are not supported by GRUB and should not be set on the
        <a class="permalink" href="#bootfs"><b class="Sy">bootfs</b></a>
        filesystem when using GRUB to boot the system. Please see
        <a href="../5/zpool-features.5.html" class="Xr">zpool-features(5)</a> for more information on these
        algorithms.</p>
    <p class="Pp">Changing this property affects only newly-written data.</p>
  </dd>
  <dt id="compression"><a class="permalink" href="#compression"><b class="Sy">compression</b></a>=<b class="Sy">on</b>|<b class="Sy">off</b>|<b class="Sy">gzip</b>|<b class="Sy">gzip-</b><i class="Em">N</i>|<b class="Sy">lz4</b>|<b class="Sy">lzjb</b>|<b class="Sy">zle</b></dt>
  <dd>Controls the compression algorithm used for this dataset.
    <p class="Pp">Setting compression to <b class="Sy">on</b> indicates that the
        current default compression algorithm should be used. The default
        balances compression and decompression speed, with compression ratio and
        is expected to work well on a wide variety of workloads. Unlike all
        other settings for this property, <b class="Sy">on</b> does not select a
        fixed compression type. As new compression algorithms are added to ZFS
        and enabled on a pool, the default compression algorithm may change. The
        current default compression algorithm is either <b class="Sy">lzjb</b>
        or, if the <b class="Sy">lz4_compress</b> feature is enabled,
        <b class="Sy">lz4</b>.</p>
    <p class="Pp" id="enabled">The <b class="Sy">lz4</b> compression algorithm
        is a high-performance replacement for the <b class="Sy">lzjb</b>
        algorithm. It features significantly faster compression and
        decompression, as well as a moderately higher compression ratio than
        <b class="Sy">lzjb</b>, but can only be used on pools with the
        <b class="Sy">lz4_compress</b> feature set to
        <a class="permalink" href="#enabled"><b class="Sy">enabled</b></a>. See
        <a href="../5/zpool-features.5.html" class="Xr">zpool-features(5)</a> for details on ZFS feature flags and
        the <b class="Sy">lz4_compress</b> feature.</p>
    <p class="Pp">The <b class="Sy">lzjb</b> compression algorithm is optimized
        for performance while providing decent data compression.</p>
    <p class="Pp" id="gzip-6">The <b class="Sy">gzip</b> compression algorithm
        uses the same compression as the <a class="Xr">gzip(1)</a> command. You
        can specify the <b class="Sy">gzip</b> level by using the value
        <b class="Sy">gzip-</b><i class="Em">N</i>, where <i class="Em">N</i> is
        an integer from 1 (fastest) to 9 (best compression ratio). Currently,
        <b class="Sy">gzip</b> is equivalent to
        <a class="permalink" href="#gzip-6"><b class="Sy">gzip-6</b></a> (which
        is also the default for <a class="Xr">gzip(1)</a>).</p>
    <p class="Pp">The <b class="Sy">zle</b> compression algorithm compresses
        runs of zeros.</p>
    <p class="Pp" id="compress">This property can also be referred to by its
        shortened column name
        <a class="permalink" href="#compress"><b class="Sy">compress</b></a>.
        Changing this property affects only newly-written data.</p>
  </dd>
  <dt id="context"><a class="permalink" href="#context"><b class="Sy">context</b></a>=<b class="Sy">none</b>|<i class="Em">SELinux_User:SElinux_Role:Selinux_Type:Sensitivity_Level</i></dt>
  <dd>This flag sets the SELinux context for all files in the file system under
      a mount point for that file system. See <a class="Xr">selinux(8)</a> for
      more information.</dd>
  <dt id="fscontext"><a class="permalink" href="#fscontext"><b class="Sy">fscontext</b></a>=<b class="Sy">none</b>|<i class="Em">SELinux_User:SElinux_Role:Selinux_Type:Sensitivity_Level</i></dt>
  <dd>This flag sets the SELinux context for the file system file system being
      mounted. See <a class="Xr">selinux(8)</a> for more information.</dd>
  <dt id="defcontext"><a class="permalink" href="#defcontext"><b class="Sy">defcontext</b></a>=<b class="Sy">none</b>|<i class="Em">SELinux_User:SElinux_Role:Selinux_Type:Sensitivity_Level</i></dt>
  <dd>This flag sets the SELinux default context for unlabeled files. See
      <a class="Xr">selinux(8)</a> for more information.</dd>
  <dt id="rootcontext"><a class="permalink" href="#rootcontext"><b class="Sy">rootcontext</b></a>=<b class="Sy">none</b>|<i class="Em">SELinux_User:SElinux_Role:Selinux_Type:Sensitivity_Level</i></dt>
  <dd>This flag sets the SELinux context for the root inode of the file system.
      See <a class="Xr">selinux(8)</a> for more information.</dd>
  <dt id="copies"><a class="permalink" href="#copies"><b class="Sy">copies</b></a>=<b class="Sy">1</b>|<a class="permalink" href="#2"><b class="Sy" id="2">2</b></a>|<a class="permalink" href="#3"><b class="Sy" id="3">3</b></a></dt>
  <dd>Controls the number of copies of data stored for this dataset. These
      copies are in addition to any redundancy provided by the pool, for
      example, mirroring or RAID-Z. The copies are stored on different disks, if
      possible. The space used by multiple copies is charged to the associated
      file and dataset, changing the <b class="Sy">used</b> property and
      counting against quotas and reservations.
    <p class="Pp">Changing this property only affects newly-written data.
        Therefore, set this property at file system creation time by using the
        <code class="Fl">-o</code>
        <b class="Sy">copies</b>=<var class="Ar">N</var> option.</p>
    <p class="Pp" id="copies=2">Remember that ZFS will not import a pool with a
        missing top-level vdev. Do <b class="Sy">NOT</b> create, for example a
        two-disk striped pool and set
        <a class="permalink" href="#copies=2"><b class="Sy">copies=2</b></a> on
        some datasets thinking you have setup redundancy for them. When a disk
        fails you will not be able to import the pool and will have lost all of
        your data.</p>
  </dd>
  <dt id="devices"><a class="permalink" href="#devices"><b class="Sy">devices</b></a>=<b class="Sy">on</b>|<b class="Sy">off</b></dt>
  <dd>Controls whether device nodes can be opened on this file system. The
      default value is <b class="Sy">on</b>. The values <b class="Sy">on</b> and
      <b class="Sy">off</b> are equivalent to the <b class="Sy">dev</b> and
      <a class="permalink" href="#nodev"><b class="Sy" id="nodev">nodev</b></a>
      mount options.</dd>
  <dt id="dnodesize"><a class="permalink" href="#dnodesize"><b class="Sy">dnodesize</b></a>=<b class="Sy">legacy</b>|<b class="Sy">auto</b>|<a class="permalink" href="#1k"><b class="Sy" id="1k">1k</b></a>|<a class="permalink" href="#2k"><b class="Sy" id="2k">2k</b></a>|<a class="permalink" href="#4k"><b class="Sy" id="4k">4k</b></a>|<a class="permalink" href="#8k"><b class="Sy" id="8k">8k</b></a>|<a class="permalink" href="#16k"><b class="Sy" id="16k">16k</b></a></dt>
  <dd>Specifies a compatibility mode or literal value for the size of dnodes in
      the file system. The default value is <b class="Sy">legacy</b>. Setting
      this property to a value other than <b class="Sy">legacy</b> requires the
      large_dnode pool feature to be enabled.
    <p class="Pp">Consider setting <b class="Sy">dnodesize</b> to
        <b class="Sy">auto</b> if the dataset uses the
        <b class="Sy">xattr=sa</b> property setting and the workload makes heavy
        use of extended attributes. This may be applicable to SELinux-enabled
        systems, Lustre servers, and Samba servers, for example. Literal values
        are supported for cases where the optimal size is known in advance and
        for performance testing.</p>
    <p class="Pp">Leave <b class="Sy">dnodesize</b> set to
        <b class="Sy">legacy</b> if you need to receive a send stream of this
        dataset on a pool that doesn't enable the large_dnode feature, or if you
        need to import this pool on a system that doesn't support the
        large_dnode feature.</p>
    <p class="Pp" id="dnsize">This property can also be referred to by its
        shortened column name,
        <a class="permalink" href="#dnsize"><b class="Sy">dnsize</b></a>.</p>
  </dd>
  <dt id="exec"><a class="permalink" href="#exec"><b class="Sy">exec</b></a>=<b class="Sy">on</b>|<b class="Sy">off</b></dt>
  <dd>Controls whether processes can be executed from within this file system.
      The default value is <b class="Sy">on</b>. The values <b class="Sy">on</b>
      and <b class="Sy">off</b> are equivalent to the <b class="Sy">exec</b> and
      <a class="permalink" href="#noexec"><b class="Sy" id="noexec">noexec</b></a>
      mount options.</dd>
  <dt id="filesystem_limit"><a class="permalink" href="#filesystem_limit"><b class="Sy">filesystem_limit</b></a>=<i class="Em">count</i>|<b class="Sy">none</b></dt>
  <dd>Limits the number of filesystems and volumes that can exist under this
      point in the dataset tree. The limit is not enforced if the user is
      allowed to change the limit. Setting a <b class="Sy">filesystem_limit</b>
      to <b class="Sy">on</b> a descendent of a filesystem that already has a
      <b class="Sy">filesystem_limit</b> does not override the ancestor's
      <b class="Sy">filesystem_limit</b>, but rather imposes an additional
      limit. This feature must be enabled to be used (see
      <a href="../5/zpool-features.5.html" class="Xr">zpool-features(5)</a>).</dd>
  <dt id="mountpoint"><a class="permalink" href="#mountpoint"><b class="Sy">mountpoint</b></a>=<span class="Pa">path</span>|<b class="Sy">none</b>|<b class="Sy">legacy</b></dt>
  <dd>Controls the mount point used for this file system. See the
      <a class="Sx" href="#Mount_Points">Mount Points</a> section for more
      information on how this property is used.
    <p class="Pp">When the <b class="Sy">mountpoint</b> property is changed for
        a file system, the file system and any children that inherit the mount
        point are unmounted. If the new value is <b class="Sy">legacy</b>, then
        they remain unmounted. Otherwise, they are automatically remounted in
        the new location if the property was previously <b class="Sy">legacy</b>
        or <b class="Sy">none</b>, or if they were mounted before the property
        was changed. In addition, any shared file systems are unshared and
        shared in the new location.</p>
  </dd>
  <dt id="nbmand"><a class="permalink" href="#nbmand"><b class="Sy">nbmand</b></a>=<b class="Sy">on</b>|<b class="Sy">off</b></dt>
  <dd>Controls whether the file system should be mounted with
      <b class="Sy">nbmand</b> (Non Blocking mandatory locks). This is used for
      SMB clients. Changes to this property only take effect when the file
      system is umounted and remounted. See <a class="Xr">mount(8)</a> for more
      information on <b class="Sy">nbmand</b> mounts. This property is not used
      on Linux.</dd>
  <dt id="overlay"><a class="permalink" href="#overlay"><b class="Sy">overlay</b></a>=<b class="Sy">off</b>|<b class="Sy">on</b></dt>
  <dd>Allow mounting on a busy directory or a directory which already contains
      files or directories. This is the default mount behavior for Linux file
      systems. For consistency with OpenZFS on other platforms overlay mounts
      are <b class="Sy">off</b> by default. Set to <b class="Sy">on</b> to
      enable overlay mounts.</dd>
  <dt id="primarycache"><a class="permalink" href="#primarycache"><b class="Sy">primarycache</b></a>=<b class="Sy">all</b>|<b class="Sy">none</b>|<b class="Sy">metadata</b></dt>
  <dd>Controls what is cached in the primary cache (ARC). If this property is
      set to <b class="Sy">all</b>, then both user data and metadata is cached.
      If this property is set to <b class="Sy">none</b>, then neither user data
      nor metadata is cached. If this property is set to
      <b class="Sy">metadata</b>, then only metadata is cached. The default
      value is <b class="Sy">all</b>.</dd>
  <dt id="quota"><a class="permalink" href="#quota"><b class="Sy">quota</b></a>=<i class="Em">size</i>|<b class="Sy">none</b></dt>
  <dd>Limits the amount of space a dataset and its descendents can consume. This
      property enforces a hard limit on the amount of space used. This includes
      all space consumed by descendents, including file systems and snapshots.
      Setting a quota on a descendent of a dataset that already has a quota does
      not override the ancestor's quota, but rather imposes an additional limit.
    <p class="Pp">Quotas cannot be set on volumes, as the
        <b class="Sy">volsize</b> property acts as an implicit quota.</p>
  </dd>
  <dt id="snapshot_limit"><a class="permalink" href="#snapshot_limit"><b class="Sy">snapshot_limit</b></a>=<i class="Em">count</i>|<b class="Sy">none</b></dt>
  <dd>Limits the number of snapshots that can be created on a dataset and its
      descendents. Setting a <b class="Sy">snapshot_limit</b> on a descendent of
      a dataset that already has a <b class="Sy">snapshot_limit</b> does not
      override the ancestor's <b class="Sy">snapshot_limit</b>, but rather
      imposes an additional limit. The limit is not enforced if the user is
      allowed to change the limit. For example, this means that recursive
      snapshots taken from the global zone are counted against each delegated
      dataset within a zone. This feature must be enabled to be used (see
      <a href="../5/zpool-features.5.html" class="Xr">zpool-features(5)</a>).</dd>
  <dt id="userquota@"><a class="permalink" href="#userquota@"><b class="Sy">userquota@</b></a><i class="Em">user</i>=<i class="Em">size</i>|<b class="Sy">none</b></dt>
  <dd>Limits the amount of space consumed by the specified user. User space
      consumption is identified by the
      <a class="permalink" href="#userspace@"><b class="Sy" id="userspace@">userspace@</b></a><i class="Em">user</i>
      property.
    <p class="Pp">Enforcement of user quotas may be delayed by several seconds.
        This delay means that a user might exceed their quota before the system
        notices that they are over quota and begins to refuse additional writes
        with the <code class="Er">EDQUOT</code> error message. See the
        <code class="Nm">zfs</code> <code class="Cm">userspace</code> subcommand
        for more information.</p>
    <p class="Pp">Unprivileged users can only access their own groups' space
        usage. The root user, or a user who has been granted the
        <b class="Sy">userquota</b> privilege with <code class="Nm">zfs</code>
        <code class="Cm">allow</code>, can get and set everyone's quota.</p>
    <p class="Pp">This property is not available on volumes, on file systems
        before version 4, or on pools before version 15. The
        <b class="Sy">userquota@</b><i class="Em">...</i> properties are not
        displayed by <code class="Nm">zfs</code> <code class="Cm">get</code>
        <b class="Sy">all</b>. The user's name must be appended after the
        <b class="Sy">@</b> symbol, using one of the following forms:</p>
    <ul class="Bl-bullet">
      <li id="POSIX~3"><a class="permalink" href="#POSIX~3"><i class="Em">POSIX
          name</i></a> (for example, <b class="Sy">joe</b>)</li>
      <li id="POSIX~4"><a class="permalink" href="#POSIX~4"><i class="Em">POSIX
          numeric ID</i></a> (for example, <b class="Sy">789</b>)</li>
      <li id="SID~3"><a class="permalink" href="#SID~3"><i class="Em">SID
          name</i></a> (for example, <b class="Sy">joe.smith@mydomain</b>)</li>
      <li id="SID~4"><a class="permalink" href="#SID~4"><i class="Em">SID
          numeric ID</i></a> (for example,
        <b class="Sy">S-1-123-456-789</b>)</li>
    </ul>
    <p class="Pp">Files created on Linux always have POSIX owners.</p>
  </dd>
  <dt id="userobjquota@"><a class="permalink" href="#userobjquota@"><b class="Sy">userobjquota@</b></a><i class="Em">user</i>=<i class="Em">size</i>|<b class="Sy">none</b></dt>
  <dd>The <b class="Sy">userobjquota</b> is similar to
      <b class="Sy">userquota</b> but it limits the number of objects a user can
      create. Please refer to <b class="Sy">userobjused</b> for more information
      about how objects are counted.</dd>
  <dt id="groupquota@"><a class="permalink" href="#groupquota@"><b class="Sy">groupquota@</b></a><i class="Em">group</i>=<i class="Em">size</i>|<b class="Sy">none</b></dt>
  <dd>Limits the amount of space consumed by the specified group. Group space
      consumption is identified by the
      <a class="permalink" href="#groupused@"><b class="Sy" id="groupused@">groupused@</b></a><i class="Em">group</i>
      property.
    <p class="Pp">Unprivileged users can access only their own groups' space
        usage. The root user, or a user who has been granted the
        <b class="Sy">groupquota</b> privilege with <code class="Nm">zfs</code>
        <code class="Cm">allow</code>, can get and set all groups' quotas.</p>
  </dd>
  <dt id="groupobjquota@"><a class="permalink" href="#groupobjquota@"><b class="Sy">groupobjquota@</b></a><i class="Em">group</i>=<i class="Em">size</i>|<b class="Sy">none</b></dt>
  <dd>The
      <a class="permalink" href="#groupobjquota"><b class="Sy" id="groupobjquota">groupobjquota</b></a>
      is similar to <b class="Sy">groupquota</b> but it limits number of objects
      a group can consume. Please refer to <b class="Sy">userobjused</b> for
      more information about how objects are counted.</dd>
  <dt id="readonly"><a class="permalink" href="#readonly"><b class="Sy">readonly</b></a>=<b class="Sy">on</b>|<b class="Sy">off</b></dt>
  <dd>Controls whether this dataset can be modified. The default value is
      <b class="Sy">off</b>. The values <b class="Sy">on</b> and
      <b class="Sy">off</b> are equivalent to the
      <a class="permalink" href="#ro"><b class="Sy" id="ro">ro</b></a> and
      <b class="Sy">rw</b> mount options.
    <p class="Pp" id="rdonly">This property can also be referred to by its
        shortened column name,
        <a class="permalink" href="#rdonly"><b class="Sy">rdonly</b></a>.</p>
  </dd>
  <dt id="recordsize"><a class="permalink" href="#recordsize"><b class="Sy">recordsize</b></a>=<i class="Em">size</i></dt>
  <dd>Specifies a suggested block size for files in the file system. This
      property is designed solely for use with database workloads that access
      files in fixed-size records. ZFS automatically tunes block sizes according
      to internal algorithms optimized for typical access patterns.
    <p class="Pp">For databases that create very large files but access them in
        small random chunks, these algorithms may be suboptimal. Specifying a
        <b class="Sy">recordsize</b> greater than or equal to the record size of
        the database can result in significant performance gains. Use of this
        property for general purpose file systems is strongly discouraged, and
        may adversely affect performance.</p>
    <p class="Pp">The size specified must be a power of two greater than or
        equal to 512 and less than or equal to 128 Kbytes. If the
        <b class="Sy">large_blocks</b> feature is enabled on the pool, the size
        may be up to 1 Mbyte. See <a href="../5/zpool-features.5.html" class="Xr">zpool-features(5)</a> for
        details on ZFS feature flags.</p>
    <p class="Pp">Changing the file system's <b class="Sy">recordsize</b>
        affects only files created afterward; existing files are unaffected.</p>
    <p class="Pp" id="recsize">This property can also be referred to by its
        shortened column name,
        <a class="permalink" href="#recsize"><b class="Sy">recsize</b></a>.</p>
  </dd>
  <dt id="redundant_metadata"><a class="permalink" href="#redundant_metadata"><b class="Sy">redundant_metadata</b></a>=<b class="Sy">all</b>|<b class="Sy">most</b></dt>
  <dd>Controls what types of metadata are stored redundantly. ZFS stores an
      extra copy of metadata, so that if a single block is corrupted, the amount
      of user data lost is limited. This extra copy is in addition to any
      redundancy provided at the pool level (e.g. by mirroring or RAID-Z), and
      is in addition to an extra copy specified by the <b class="Sy">copies</b>
      property (up to a total of 3 copies). For example if the pool is mirrored,
      <b class="Sy">copies</b>=2, and
      <b class="Sy">redundant_metadata</b>=<b class="Sy">most</b>, then ZFS
      stores 6 copies of most metadata, and 4 copies of data and some metadata.
    <p class="Pp">When set to <b class="Sy">all</b>, ZFS stores an extra copy of
        all metadata. If a single on-disk block is corrupt, at worst a single
        block of user data (which is <b class="Sy">recordsize</b> bytes long)
        can be lost.</p>
    <p class="Pp">When set to <b class="Sy">most</b>, ZFS stores an extra copy
        of most types of metadata. This can improve performance of random
        writes, because less metadata must be written. In practice, at worst
        about 100 blocks (of <b class="Sy">recordsize</b> bytes each) of user
        data can be lost if a single on-disk block is corrupt. The exact
        behavior of which metadata blocks are stored redundantly may change in
        future releases.</p>
    <p class="Pp">The default value is <b class="Sy">all</b>.</p>
  </dd>
  <dt id="refquota"><a class="permalink" href="#refquota"><b class="Sy">refquota</b></a>=<i class="Em">size</i>|<b class="Sy">none</b></dt>
  <dd>Limits the amount of space a dataset can consume. This property enforces a
      hard limit on the amount of space used. This hard limit does not include
      space used by descendents, including file systems and snapshots.</dd>
  <dt id="refreservation"><a class="permalink" href="#refreservation"><b class="Sy">refreservation</b></a>=<i class="Em">size</i>|<b class="Sy">none</b></dt>
  <dd>The minimum amount of space guaranteed to a dataset, not including its
      descendents. When the amount of space used is below this value, the
      dataset is treated as if it were taking up the amount of space specified
      by <b class="Sy">refreservation</b>. The <b class="Sy">refreservation</b>
      reservation is accounted for in the parent datasets' space used, and
      counts against the parent datasets' quotas and reservations.
    <p class="Pp">If <b class="Sy">refreservation</b> is set, a snapshot is only
        allowed if there is enough free pool space outside of this reservation
        to accommodate the current number of &quot;referenced&quot; bytes in the
        dataset.</p>
    <p class="Pp" id="refreserv">This property can also be referred to by its
        shortened column name,
        <a class="permalink" href="#refreserv"><b class="Sy">refreserv</b></a>.</p>
  </dd>
  <dt id="relatime"><a class="permalink" href="#relatime"><b class="Sy">relatime</b></a>=<b class="Sy">on</b>|<b class="Sy">off</b></dt>
  <dd>Controls the manner in which the access time is updated when
      <a class="permalink" href="#atime=on"><b class="Sy" id="atime=on">atime=on</b></a>
      is set. Turning this property on causes the access time to be updated
      relative to the modify or change time. Access time is only updated if the
      previous access time was earlier than the current modify or change time or
      if the existing access time hasn't been updated within the past 24 hours.
      The default value is <b class="Sy">off</b>. The values
      <b class="Sy">on</b> and <b class="Sy">off</b> are equivalent to the
      <b class="Sy">relatime</b> and
      <a class="permalink" href="#norelatime"><b class="Sy" id="norelatime">norelatime</b></a>
      mount options.</dd>
  <dt id="reservation"><a class="permalink" href="#reservation"><b class="Sy">reservation</b></a>=<i class="Em">size</i>|<b class="Sy">none</b></dt>
  <dd>The minimum amount of space guaranteed to a dataset and its descendants.
      When the amount of space used is below this value, the dataset is treated
      as if it were taking up the amount of space specified by its reservation.
      Reservations are accounted for in the parent datasets' space used, and
      count against the parent datasets' quotas and reservations.
    <p class="Pp" id="reserv">This property can also be referred to by its
        shortened column name,
        <a class="permalink" href="#reserv"><b class="Sy">reserv</b></a>.</p>
  </dd>
  <dt id="secondarycache"><a class="permalink" href="#secondarycache"><b class="Sy">secondarycache</b></a>=<b class="Sy">all</b>|<b class="Sy">none</b>|<b class="Sy">metadata</b></dt>
  <dd>Controls what is cached in the secondary cache (L2ARC). If this property
      is set to <b class="Sy">all</b>, then both user data and metadata is
      cached. If this property is set to <b class="Sy">none</b>, then neither
      user data nor metadata is cached. If this property is set to
      <b class="Sy">metadata</b>, then only metadata is cached. The default
      value is <b class="Sy">all</b>.</dd>
  <dt id="setuid"><a class="permalink" href="#setuid"><b class="Sy">setuid</b></a>=<b class="Sy">on</b>|<b class="Sy">off</b></dt>
  <dd>Controls whether the setuid bit is respected for the file system. The
      default value is <b class="Sy">on</b>. The values <b class="Sy">on</b> and
      <b class="Sy">off</b> are equivalent to the
      <a class="permalink" href="#suid"><b class="Sy" id="suid">suid</b></a> and
      <b class="Sy">nosuid</b> mount options.</dd>
  <dt id="sharesmb"><a class="permalink" href="#sharesmb"><b class="Sy">sharesmb</b></a>=<b class="Sy">on</b>|<b class="Sy">off</b>|<i class="Em">opts</i></dt>
  <dd>Controls whether the file system is shared by using
      <a class="permalink" href="#Samba"><b class="Sy" id="Samba">Samba
      USERSHARES</b></a> and what options are to be used. Otherwise, the file
      system is automatically shared and unshared with the
      <code class="Nm">zfs</code> <code class="Cm">share</code> and
      <code class="Nm">zfs</code> <code class="Cm">unshare</code> commands. If
      the property is set to on, the <a class="Xr">net(8)</a> command is invoked
      to create a <b class="Sy">USERSHARE</b>.
    <p class="Pp">Because SMB shares requires a resource name, a unique resource
        name is constructed from the dataset name. The constructed name is a
        copy of the dataset name except that the characters in the dataset name,
        which would be invalid in the resource name, are replaced with
        underscore (_) characters. Linux does not currently support additional
        options which might be available on Solaris.</p>
    <p class="Pp">If the <b class="Sy">sharesmb</b> property is set to
        <b class="Sy">off</b>, the file systems are unshared.</p>
    <p class="Pp">The share is created with the ACL (Access Control List)
        &quot;Everyone:F&quot; (&quot;F&quot; stands for &quot;full
        permissions&quot;, ie. read and write permissions) and no guest access
        (which means Samba must be able to authenticate a real user, system
        passwd/shadow, LDAP or smbpasswd based) by default. This means that any
        additional access control (disallow specific user specific access etc)
        must be done on the underlying file system.</p>
  </dd>
  <dt id="sharenfs"><a class="permalink" href="#sharenfs"><b class="Sy">sharenfs</b></a>=<b class="Sy">on</b>|<b class="Sy">off</b>|<i class="Em">opts</i></dt>
  <dd>Controls whether the file system is shared via NFS, and what options are
      to be used. A file system with a <b class="Sy">sharenfs</b> property of
      <b class="Sy">off</b> is managed with the <a class="Xr">exportfs(8)</a>
      command and entries in the
      <a class="permalink" href="#/etc/exports"><i class="Em" id="/etc/exports">/etc/exports</i></a>
      file. Otherwise, the file system is automatically shared and unshared with
      the <code class="Nm">zfs</code> <code class="Cm">share</code> and
      <code class="Nm">zfs</code> <code class="Cm">unshare</code> commands. If
      the property is set to <b class="Sy">on</b>, the dataset is shared using
      the default options:
    <p class="Pp" id="sec=sys,rw,crossmnt,no_subtree_check,no_root_squash"><a class="permalink" href="#sec=sys,rw,crossmnt,no_subtree_check,no_root_squash"><i class="Em">sec=sys,rw,crossmnt,no_subtree_check,no_root_squash</i></a></p>
    <p class="Pp">See <a class="Xr">exports(5)</a> for the meaning of the
        default options. Otherwise, the <a class="Xr">exportfs(8)</a> command is
        invoked with options equivalent to the contents of this property.</p>
    <p class="Pp">When the <b class="Sy">sharenfs</b> property is changed for a
        dataset, the dataset and any children inheriting the property are
        re-shared with the new options, only if the property was previously
        <b class="Sy">off</b>, or if they were shared before the property was
        changed. If the new property is <b class="Sy">off</b>, the file systems
        are unshared.</p>
  </dd>
  <dt id="logbias"><a class="permalink" href="#logbias"><b class="Sy">logbias</b></a>=<b class="Sy">latency</b>|<b class="Sy">throughput</b></dt>
  <dd>Provide a hint to ZFS about handling of synchronous requests in this
      dataset. If <b class="Sy">logbias</b> is set to <b class="Sy">latency</b>
      (the default), ZFS will use pool log devices (if configured) to handle the
      requests at low latency. If <b class="Sy">logbias</b> is set to
      <b class="Sy">throughput</b>, ZFS will not use configured pool log
      devices. ZFS will instead optimize synchronous operations for global pool
      throughput and efficient use of resources.</dd>
  <dt id="snapdev"><a class="permalink" href="#snapdev"><b class="Sy">snapdev</b></a>=<b class="Sy">hidden</b>|<b class="Sy">visible</b></dt>
  <dd>Controls whether the volume snapshot devices under
      <a class="permalink" href="#/dev/zvol/_pool_"><i class="Em" id="/dev/zvol/_pool_">/dev/zvol/&lt;pool&gt;</i></a>
      are hidden or visible. The default value is <b class="Sy">hidden</b>.</dd>
  <dt id="snapdir"><a class="permalink" href="#snapdir"><b class="Sy">snapdir</b></a>=<b class="Sy">hidden</b>|<b class="Sy">visible</b></dt>
  <dd>Controls whether the <span class="Pa">.zfs</span> directory is hidden or
      visible in the root of the file system as discussed in the
      <a class="Sx" href="#Snapshots">Snapshots</a> section. The default value
      is <b class="Sy">hidden</b>.</dd>
  <dt id="sync"><a class="permalink" href="#sync"><b class="Sy">sync</b></a>=<b class="Sy">standard</b>|<b class="Sy">always</b>|<b class="Sy">disabled</b></dt>
  <dd>Controls the behavior of synchronous requests (e.g. fsync, O_DSYNC).
      <b class="Sy">standard</b> is the POSIX specified behavior of ensuring all
      synchronous requests are written to stable storage and all devices are
      flushed to ensure data is not cached by device controllers (this is the
      default). <b class="Sy">always</b> causes every file system transaction to
      be written and flushed before its system call returns. This has a large
      performance penalty. <b class="Sy">disabled</b> disables synchronous
      requests. File system transactions are only committed to stable storage
      periodically. This option will give the highest performance. However, it
      is very dangerous as ZFS would be ignoring the synchronous transaction
      demands of applications such as databases or NFS. Administrators should
      only use this option when the risks are understood.</dd>
  <dt id="version"><a class="permalink" href="#version"><b class="Sy">version</b></a>=<i class="Em">N</i>|<a class="permalink" href="#current"><b class="Sy" id="current">current</b></a></dt>
  <dd>The on-disk version of this file system, which is independent of the pool
      version. This property can only be set to later supported versions. See
      the <code class="Nm">zfs</code> <code class="Cm">upgrade</code>
    command.</dd>
  <dt id="volsize"><a class="permalink" href="#volsize"><b class="Sy">volsize</b></a>=<i class="Em">size</i></dt>
  <dd>For volumes, specifies the logical size of the volume. By default,
      creating a volume establishes a reservation of equal size. For storage
      pools with a version number of 9 or higher, a
      <b class="Sy">refreservation</b> is set instead. Any changes to
      <b class="Sy">volsize</b> are reflected in an equivalent change to the
      reservation (or <b class="Sy">refreservation</b>). The
      <b class="Sy">volsize</b> can only be set to a multiple of
      <b class="Sy">volblocksize</b>, and cannot be zero.
    <p class="Pp">The reservation is kept equal to the volume's logical size to
        prevent unexpected behavior for consumers. Without the reservation, the
        volume could run out of space, resulting in undefined behavior or data
        corruption, depending on how the volume is used. These effects can also
        occur when the volume size is changed while it is in use (particularly
        when shrinking the size). Extreme care should be used when adjusting the
        volume size.</p>
    <p class="Pp">Though not recommended, a &quot;sparse volume&quot; (also
        known as &quot;thin provisioning&quot;) can be created by specifying the
        <code class="Fl">-s</code> option to the <code class="Nm">zfs</code>
        <code class="Cm">create</code> <code class="Fl">-V</code> command, or by
        changing the reservation after the volume has been created. A
        &quot;sparse volume&quot; is a volume where the reservation is less then
        the volume size. Consequently, writes to a sparse volume can fail with
        <code class="Er">ENOSPC</code> when the pool is low on space. For a
        sparse volume, changes to <b class="Sy">volsize</b> are not reflected in
        the reservation.</p>
  </dd>
  <dt id="volmode"><a class="permalink" href="#volmode"><b class="Sy">volmode</b></a>=<code class="Cm">default</code>
    |
    <a class="permalink" href="#full"><code class="Cm" id="full">full</code></a>
    |
    <a class="permalink" href="#geom"><code class="Cm" id="geom">geom</code></a>
    | <a class="permalink" href="#dev"><code class="Cm" id="dev">dev</code></a>
    |
    <a class="permalink" href="#none"><code class="Cm" id="none">none</code></a></dt>
  <dd>This property specifies how volumes should be exposed to the OS. Setting
      it to <b class="Sy">full</b> exposes volumes as fully fledged block
      devices, providing maximal functionality. The value <b class="Sy">geom</b>
      is just an alias for <b class="Sy">full</b> and is kept for compatibility.
      Setting it to <b class="Sy">dev</b> hides its partitions. Volumes with
      property set to <b class="Sy">none</b> are not exposed outside ZFS, but
      can be snapshoted, cloned, replicated, etc, that can be suitable for
      backup purposes. Value <b class="Sy">default</b> means that volumes
      exposition is controlled by system-wide tunable
      <var class="Va">zvol_volmode</var>, where <b class="Sy">full</b>,
      <b class="Sy">dev</b> and <b class="Sy">none</b> are encoded as 1, 2 and 3
      respectively. The default values is <b class="Sy">full</b>.</dd>
  <dt id="vscan"><a class="permalink" href="#vscan"><b class="Sy">vscan</b></a>=<b class="Sy">on</b>|<b class="Sy">off</b></dt>
  <dd>Controls whether regular files should be scanned for viruses when a file
      is opened and closed. In addition to enabling this property, the virus
      scan service must also be enabled for virus scanning to occur. The default
      value is <b class="Sy">off</b>. This property is not used on Linux.</dd>
  <dt id="xattr"><a class="permalink" href="#xattr"><b class="Sy">xattr</b></a>=<b class="Sy">on</b>|<b class="Sy">off</b>|<b class="Sy">sa</b></dt>
  <dd>Controls whether extended attributes are enabled for this file system. Two
      styles of extended attributes are supported either directory based or
      system attribute based.
    <p class="Pp">The default value of <b class="Sy">on</b> enables directory
        based extended attributes. This style of extended attribute imposes no
        practical limit on either the size or number of attributes which can be
        set on a file. Although under Linux the <a class="Xr">getxattr(2)</a>
        and <a class="Xr">setxattr(2)</a> system calls limit the maximum size to
        64K. This is the most compatible style of extended attribute and is
        supported by all OpenZFS implementations.</p>
    <p class="Pp">System attribute based xattrs can be enabled by setting the
        value to <b class="Sy">sa</b>. The key advantage of this type of xattr
        is improved performance. Storing extended attributes as system
        attributes significantly decreases the amount of disk IO required. Up to
        64K of data may be stored per-file in the space reserved for system
        attributes. If there is not enough space available for an extended
        attribute then it will be automatically written as a directory based
        xattr. System attribute based extended attributes are not accessible on
        platforms which do not support the <b class="Sy">xattr=sa</b>
      feature.</p>
    <p class="Pp">The use of system attribute based xattrs is strongly
        encouraged for users of SELinux or posix ACLs. Both of these features
        heavily rely of extended attributes and benefit significantly from the
        reduced access time.</p>
    <p class="Pp" id="noxattr">The values <b class="Sy">on</b> and
        <b class="Sy">off</b> are equivalent to the <b class="Sy">xattr</b> and
        <a class="permalink" href="#noxattr"><b class="Sy">noxattr</b></a> mount
        options.</p>
  </dd>
  <dt id="zoned"><a class="permalink" href="#zoned"><b class="Sy">zoned</b></a>=<b class="Sy">on</b>|<b class="Sy">off</b></dt>
  <dd>Controls whether the dataset is managed from a non-global zone. Zones are
      a Solaris feature and are not relevant on Linux. The default value is
      <b class="Sy">off</b>.</dd>
</dl>
<p class="Pp">The following three properties cannot be changed after the file
    system is created, and therefore, should be set when the file system is
    created. If the properties are not set with the <code class="Nm">zfs</code>
    <code class="Cm">create</code> or <code class="Nm">zpool</code>
    <code class="Cm">create</code> commands, these properties are inherited from
    the parent dataset. If the parent dataset lacks these properties due to
    having been created prior to these features being supported, the new file
    system will have the default values for these properties.</p>
<dl class="Bl-tag">
  <dt id="casesensitivity"><a class="permalink" href="#casesensitivity"><b class="Sy">casesensitivity</b></a>=<b class="Sy">sensitive</b>|<a class="permalink" href="#insensitive"><b class="Sy" id="insensitive">insensitive</b></a>|<b class="Sy">mixed</b></dt>
  <dd>Indicates whether the file name matching algorithm used by the file system
      should be case-sensitive, case-insensitive, or allow a combination of both
      styles of matching. The default value for the
      <b class="Sy">casesensitivity</b> property is <b class="Sy">sensitive</b>.
      Traditionally, <span class="Ux">UNIX</span> and POSIX file systems have
      case-sensitive file names.
    <p class="Pp">The <b class="Sy">mixed</b> value for the
        <b class="Sy">casesensitivity</b> property indicates that the file
        system can support requests for both case-sensitive and case-insensitive
        matching behavior. Currently, case-insensitive matching behavior on a
        file system that supports mixed behavior is limited to the SMB server
        product. For more information about the <b class="Sy">mixed</b> value
        behavior, see the &quot;ZFS Administration Guide&quot;.</p>
  </dd>
  <dt id="normalization"><a class="permalink" href="#normalization"><b class="Sy">normalization</b></a>=<b class="Sy">none</b>|<a class="permalink" href="#formC"><b class="Sy" id="formC">formC</b></a>|<a class="permalink" href="#formD"><b class="Sy" id="formD">formD</b></a>|<a class="permalink" href="#formKC"><b class="Sy" id="formKC">formKC</b></a>|<a class="permalink" href="#formKD"><b class="Sy" id="formKD">formKD</b></a></dt>
  <dd>Indicates whether the file system should perform a
      <a class="permalink" href="#unicode"><b class="Sy" id="unicode">unicode</b></a>
      normalization of file names whenever two file names are compared, and
      which normalization algorithm should be used. File names are always stored
      unmodified, names are normalized as part of any comparison process. If
      this property is set to a legal value other than <b class="Sy">none</b>,
      and the <b class="Sy">utf8only</b> property was left unspecified, the
      <b class="Sy">utf8only</b> property is automatically set to
      <b class="Sy">on</b>. The default value of the
      <b class="Sy">normalization</b> property is <b class="Sy">none</b>. This
      property cannot be changed after the file system is created.</dd>
  <dt id="utf8only"><a class="permalink" href="#utf8only"><b class="Sy">utf8only</b></a>=<b class="Sy">on</b>|<b class="Sy">off</b></dt>
  <dd>Indicates whether the file system should reject file names that include
      characters that are not present in the
      <a class="permalink" href="#UTF-8"><b class="Sy" id="UTF-8">UTF-8</b></a>
      character code set. If this property is explicitly set to
      <b class="Sy">off</b>, the normalization property must either not be
      explicitly set or be set to <b class="Sy">none</b>. The default value for
      the <b class="Sy">utf8only</b> property is <b class="Sy">off</b>. This
      property cannot be changed after the file system is created.</dd>
</dl>
<p class="Pp">The <b class="Sy">casesensitivity</b>,
    <b class="Sy">normalization</b>, and <b class="Sy">utf8only</b> properties
    are also new permissions that can be assigned to non-privileged users by
    using the ZFS delegated administration feature.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Temporary_Mount_Point_Properties"><a class="permalink" href="#Temporary_Mount_Point_Properties">Temporary
  Mount Point Properties</a></h2>
<p class="Pp">When a file system is mounted, either through
    <a class="Xr">mount(8)</a> for legacy mounts or the
    <code class="Nm">zfs</code> <code class="Cm">mount</code> command for normal
    file systems, its mount options are set according to its properties. The
    correlation between properties and mount options is as follows:</p>
<div class="Bd Pp Li">
<pre>    PROPERTY                MOUNT OPTION
    atime                   atime/noatime
    canmount                auto/noauto
    devices                 dev/nodev
    exec                    exec/noexec
    readonly                ro/rw
    relatime                relatime/norelatime
    setuid                  suid/nosuid
    xattr                   xattr/noxattr</pre>
</div>
<p class="Pp" id="nodevices">In addition, these options can be set on a
    per-mount basis using the <code class="Fl">-o</code> option, without
    affecting the property that is stored on disk. The values specified on the
    command line override the values stored in the dataset. The
    <b class="Sy">nosuid</b> option is an alias for
    <a class="permalink" href="#nodevices"><b class="Sy">nodevices</b></a>,<a class="permalink" href="#nosetuid"><b class="Sy" id="nosetuid">nosetuid</b></a>.
    These properties are reported as &quot;temporary&quot; by the
    <code class="Nm">zfs</code> <code class="Cm">get</code> command. If the
    properties are changed while the dataset is mounted, the new setting
    overrides any temporary settings.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="User_Properties"><a class="permalink" href="#User_Properties">User
  Properties</a></h2>
<p class="Pp">In addition to the standard native properties, ZFS supports
    arbitrary user properties. User properties have no effect on ZFS behavior,
    but applications or administrators can use them to annotate datasets (file
    systems, volumes, and snapshots).</p>
<p class="Pp" id=".">User property names must contain a colon
    (&quot;<b class="Sy">:</b>&quot;) character to distinguish them from native
    properties. They may contain lowercase letters, numbers, and the following
    punctuation characters: colon (&quot;<b class="Sy">:</b>&quot;), dash
    (&quot;<b class="Sy">-</b>&quot;), period
    (&quot;<a class="permalink" href="#."><b class="Sy">.</b></a>&quot;), and
    underscore
    (&quot;<a class="permalink" href="#_"><b class="Sy" id="_">_</b></a>&quot;).
    The expected convention is that the property name is divided into two
    portions such as <i class="Em">module</i>:<i class="Em">property</i>, but
    this namespace is not enforced by ZFS. User property names can be at most
    256 characters, and cannot begin with a dash
    (&quot;<b class="Sy">-</b>&quot;).</p>
<p class="Pp">When making programmatic use of user properties, it is strongly
    suggested to use a reversed <b class="Sy">DNS</b> domain name for the
    <i class="Em">module</i> component of property names to reduce the chance
    that two independently-developed packages use the same property name for
    different purposes.</p>
<p class="Pp">The values of user properties are arbitrary strings, are always
    inherited, and are never validated. All of the commands that operate on
    properties (<code class="Nm">zfs</code> <code class="Cm">list</code>,
    <code class="Nm">zfs</code> <code class="Cm">get</code>,
    <code class="Nm">zfs</code> <code class="Cm">set</code>, and so forth) can
    be used to manipulate both native properties and user properties. Use the
    <code class="Nm">zfs</code> <code class="Cm">inherit</code> command to clear
    a user property. If the property is not defined in any parent dataset, it is
    removed entirely. Property values are limited to 8192 bytes.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="ZFS_Volumes_as_Swap"><a class="permalink" href="#ZFS_Volumes_as_Swap">ZFS
  Volumes as Swap</a></h2>
<p class="Pp">ZFS volumes may be used as swap devices. After creating the volume
    with the <code class="Nm">zfs</code> <code class="Cm">create</code>
    <code class="Fl">-V</code> command set up and enable the swap area using the
    <a class="Xr">mkswap(8)</a> and <a class="Xr">swapon(8)</a> commands. Do not
    swap to a file on a ZFS file system. A ZFS swap file configuration is not
    supported.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="SUBCOMMANDS"><a class="permalink" href="#SUBCOMMANDS">SUBCOMMANDS</a></h1>
<p class="Pp">All subcommands that modify state are logged persistently to the
    pool in their original form.</p>
<dl class="Bl-tag">
  <dt><code class="Nm">zfs</code> <code class="Fl">-</code>?</dt>
  <dd>Displays a help message.</dd>
  <dt><code class="Nm">zfs</code> <code class="Cm">create</code>
    [<code class="Fl">-p</code>] [<code class="Fl">-o</code>
    <var class="Ar">property</var>=<var class="Ar">value</var>]...
    <var class="Ar">filesystem</var></dt>
  <dd>Creates a new ZFS file system. The file system is automatically mounted
      according to the <b class="Sy">mountpoint</b> property inherited from the
      parent.
    <dl class="Bl-tag">
      <dt id="o"><a class="permalink" href="#o"><code class="Fl">-o</code></a>
        <var class="Ar">property</var>=<var class="Ar">value</var></dt>
      <dd>Sets the specified property as if the command
          <code class="Nm">zfs</code> <code class="Cm">set</code>
          <var class="Ar">property</var>=<var class="Ar">value</var> was invoked
          at the same time the dataset was created. Any editable ZFS property
          can also be set at creation time. Multiple <code class="Fl">-o</code>
          options can be specified. An error results if the same property is
          specified in multiple <code class="Fl">-o</code> options.</dd>
      <dt id="p"><a class="permalink" href="#p"><code class="Fl">-p</code></a></dt>
      <dd>Creates all the non-existing parent datasets. Datasets created in this
          manner are automatically mounted according to the
          <b class="Sy">mountpoint</b> property inherited from their parent. Any
          property specified on the command line using the
          <code class="Fl">-o</code> option is ignored. If the target filesystem
          already exists, the operation completes successfully.</dd>
    </dl>
  </dd>
  <dt id="path"><code class="Nm">zfs</code> <code class="Cm">create</code>
    [<code class="Fl">-ps</code>] [<code class="Fl">-b</code>
    <var class="Ar">blocksize</var>] [<code class="Fl">-o</code>
    <var class="Ar">property</var>=<var class="Ar">value</var>]...
    <code class="Fl">-V</code> <var class="Ar">size</var>
    <var class="Ar">volume</var></dt>
  <dd>Creates a volume of the given size. The volume is exported as a block
      device in <span class="Pa">/dev/zvol/path</span>, where
      <a class="permalink" href="#path"><i class="Em">path</i></a> is the name
      of the volume in the ZFS namespace. The size represents the logical size
      as exported by the device. By default, a reservation of equal size is
      created.
    <p class="Pp"><var class="Ar">size</var> is automatically rounded up to the
        nearest 128 Kbytes to ensure that the volume has an integral number of
        blocks regardless of <b class="Sy">blocksize</b>.</p>
    <dl class="Bl-tag">
      <dt id="b"><a class="permalink" href="#b"><code class="Fl">-b</code></a>
        <var class="Ar">blocksize</var></dt>
      <dd>Equivalent to <code class="Fl">-o</code>
          <b class="Sy">volblocksize</b>=<var class="Ar">blocksize</var>. If
          this option is specified in conjunction with
          <code class="Fl">-o</code> <b class="Sy">volblocksize</b>, the
          resulting behavior is undefined.</dd>
      <dt id="o~2"><a class="permalink" href="#o~2"><code class="Fl">-o</code></a>
        <var class="Ar">property</var>=<var class="Ar">value</var></dt>
      <dd>Sets the specified property as if the <code class="Nm">zfs</code>
          <code class="Cm">set</code>
          <var class="Ar">property</var>=<var class="Ar">value</var> command was
          invoked at the same time the dataset was created. Any editable ZFS
          property can also be set at creation time. Multiple
          <code class="Fl">-o</code> options can be specified. An error results
          if the same property is specified in multiple
          <code class="Fl">-o</code> options.</dd>
      <dt id="p~2"><a class="permalink" href="#p~2"><code class="Fl">-p</code></a></dt>
      <dd>Creates all the non-existing parent datasets. Datasets created in this
          manner are automatically mounted according to the
          <b class="Sy">mountpoint</b> property inherited from their parent. Any
          property specified on the command line using the
          <code class="Fl">-o</code> option is ignored. If the target filesystem
          already exists, the operation completes successfully.</dd>
      <dt id="s"><a class="permalink" href="#s"><code class="Fl">-s</code></a></dt>
      <dd>Creates a sparse volume with no reservation. See
          <b class="Sy">volsize</b> in the
          <a class="Sx" href="#Native_Properties">Native Properties</a> section
          for more information about sparse volumes.</dd>
    </dl>
  </dd>
  <dt><code class="Nm">zfs</code> <code class="Cm">destroy</code>
    [<code class="Fl">-Rfnprv</code>]
    <var class="Ar">filesystem</var>|<var class="Ar">volume</var></dt>
  <dd>Destroys the given dataset. By default, the command unshares any file
      systems that are currently shared, unmounts any file systems that are
      currently mounted, and refuses to destroy a dataset that has active
      dependents (children or clones).
    <dl class="Bl-tag">
      <dt id="R"><a class="permalink" href="#R"><code class="Fl">-R</code></a></dt>
      <dd>Recursively destroy all dependents, including cloned file systems
          outside the target hierarchy.</dd>
      <dt id="f"><a class="permalink" href="#f"><code class="Fl">-f</code></a></dt>
      <dd>Force an unmount of any file systems using the
          <code class="Nm">unmount</code> <code class="Fl">-f</code> command.
          This option has no effect on non-file systems or unmounted file
          systems.</dd>
      <dt id="n"><a class="permalink" href="#n"><code class="Fl">-n</code></a></dt>
      <dd>Do a dry-run (&quot;No-op&quot;) deletion. No data will be deleted.
          This is useful in conjunction with the <code class="Fl">-v</code> or
          <code class="Fl">-p</code> flags to determine what data would be
          deleted.</dd>
      <dt id="p~3"><a class="permalink" href="#p~3"><code class="Fl">-p</code></a></dt>
      <dd>Print machine-parsable verbose information about the deleted
        data.</dd>
      <dt id="r"><a class="permalink" href="#r"><code class="Fl">-r</code></a></dt>
      <dd>Recursively destroy all children.</dd>
      <dt id="v"><a class="permalink" href="#v"><code class="Fl">-v</code></a></dt>
      <dd>Print verbose information about the deleted data.</dd>
    </dl>
    <p class="Pp">Extreme care should be taken when applying either the
        <code class="Fl">-r</code> or the <code class="Fl">-R</code> options, as
        they can destroy large portions of a pool and cause unexpected behavior
        for mounted file systems in use.</p>
  </dd>
  <dt><code class="Nm">zfs</code> <code class="Cm">destroy</code>
    [<code class="Fl">-Rdnprv</code>]
    <var class="Ar">filesystem</var>|<var class="Ar">volume</var>@<var class="Ar">snap</var>[%<var class="Ar">snap</var>[,<var class="Ar">snap</var>[%<var class="Ar">snap</var>]]]...</dt>
  <dd>The given snapshots are destroyed immediately if and only if the
      <code class="Nm">zfs</code> <code class="Cm">destroy</code> command
      without the <code class="Fl">-d</code> option would have destroyed it.
      Such immediate destruction would occur, for example, if the snapshot had
      no clones and the user-initiated reference count were zero.
    <p class="Pp">If a snapshot does not qualify for immediate destruction, it
        is marked for deferred deletion. In this state, it exists as a usable,
        visible snapshot until both of the preconditions listed above are met,
        at which point it is destroyed.</p>
    <p class="Pp">An inclusive range of snapshots may be specified by separating
        the first and last snapshots with a percent sign. The first and/or last
        snapshots may be left blank, in which case the filesystem's oldest or
        newest snapshot will be implied.</p>
    <p class="Pp">Multiple snapshots (or ranges of snapshots) of the same
        filesystem or volume may be specified in a comma-separated list of
        snapshots. Only the snapshot's short name (the part after the
        <b class="Sy">@</b>) should be specified when using a range or
        comma-separated list to identify multiple snapshots.</p>
    <dl class="Bl-tag">
      <dt id="R~2"><a class="permalink" href="#R~2"><code class="Fl">-R</code></a></dt>
      <dd>Recursively destroy all clones of these snapshots, including the
          clones, snapshots, and children. If this flag is specified, the
          <code class="Fl">-d</code> flag will have no effect.</dd>
      <dt id="d"><a class="permalink" href="#d"><code class="Fl">-d</code></a></dt>
      <dd>Defer snapshot deletion.</dd>
      <dt id="n~2"><a class="permalink" href="#n~2"><code class="Fl">-n</code></a></dt>
      <dd>Do a dry-run (&quot;No-op&quot;) deletion. No data will be deleted.
          This is useful in conjunction with the <code class="Fl">-p</code> or
          <code class="Fl">-v</code> flags to determine what data would be
          deleted.</dd>
      <dt id="p~4"><a class="permalink" href="#p~4"><code class="Fl">-p</code></a></dt>
      <dd>Print machine-parsable verbose information about the deleted
        data.</dd>
      <dt id="r~2"><a class="permalink" href="#r~2"><code class="Fl">-r</code></a></dt>
      <dd>Destroy (or mark for deferred deletion) all snapshots with this name
          in descendent file systems.</dd>
      <dt id="v~2"><a class="permalink" href="#v~2"><code class="Fl">-v</code></a></dt>
      <dd>Print verbose information about the deleted data.
        <p class="Pp">Extreme care should be taken when applying either the
            <code class="Fl">-r</code> or the <code class="Fl">-R</code>
            options, as they can destroy large portions of a pool and cause
            unexpected behavior for mounted file systems in use.</p>
      </dd>
    </dl>
  </dd>
  <dt><code class="Nm">zfs</code> <code class="Cm">destroy</code>
    <var class="Ar">filesystem</var>|<var class="Ar">volume</var>#<var class="Ar">bookmark</var></dt>
  <dd>The given bookmark is destroyed.</dd>
  <dt><code class="Nm">zfs</code> <code class="Cm">snapshot</code>
    [<code class="Fl">-r</code>] [<code class="Fl">-o</code>
    <var class="Ar">property</var>=value]...
    <var class="Ar">filesystem</var>@<var class="Ar">snapname</var>|<var class="Ar">volume</var>@<var class="Ar">snapname</var>...</dt>
  <dd>Creates snapshots with the given names. All previous modifications by
      successful system calls to the file system are part of the snapshots.
      Snapshots are taken atomically, so that all snapshots correspond to the
      same moment in time. See the <a class="Sx" href="#Snapshots">Snapshots</a>
      section for details.
    <dl class="Bl-tag">
      <dt id="o~3"><a class="permalink" href="#o~3"><code class="Fl">-o</code></a>
        <var class="Ar">property</var>=<var class="Ar">value</var></dt>
      <dd>Sets the specified property; see <code class="Nm">zfs</code>
          <code class="Cm">create</code> for details.</dd>
      <dt id="r~3"><a class="permalink" href="#r~3"><code class="Fl">-r</code></a></dt>
      <dd>Recursively create snapshots of all descendent datasets</dd>
    </dl>
  </dd>
  <dt><code class="Nm">zfs</code> <code class="Cm">rollback</code>
    [<code class="Fl">-Rfr</code>] <var class="Ar">snapshot</var></dt>
  <dd>Roll back the given dataset to a previous snapshot. When a dataset is
      rolled back, all data that has changed since the snapshot is discarded,
      and the dataset reverts to the state at the time of the snapshot. By
      default, the command refuses to roll back to a snapshot other than the
      most recent one. In order to do so, all intermediate snapshots and
      bookmarks must be destroyed by specifying the <code class="Fl">-r</code>
      option.
    <p class="Pp">The <code class="Fl">-rR</code> options do not recursively
        destroy the child snapshots of a recursive snapshot. Only direct
        snapshots of the specified filesystem are destroyed by either of these
        options. To completely roll back a recursive snapshot, you must rollback
        the individual child snapshots.</p>
    <dl class="Bl-tag">
      <dt id="R~3"><a class="permalink" href="#R~3"><code class="Fl">-R</code></a></dt>
      <dd>Destroy any more recent snapshots and bookmarks, as well as any clones
          of those snapshots.</dd>
      <dt id="f~2"><a class="permalink" href="#f~2"><code class="Fl">-f</code></a></dt>
      <dd>Used with the <code class="Fl">-R</code> option to force an unmount of
          any clone file systems that are to be destroyed.</dd>
      <dt id="r~4"><a class="permalink" href="#r~4"><code class="Fl">-r</code></a></dt>
      <dd>Destroy any snapshots and bookmarks more recent than the one
          specified.</dd>
    </dl>
  </dd>
  <dt><code class="Nm">zfs</code> <code class="Cm">clone</code>
    [<code class="Fl">-p</code>] [<code class="Fl">-o</code>
    <var class="Ar">property</var>=<var class="Ar">value</var>]...
    <var class="Ar">snapshot</var>
    <var class="Ar">filesystem</var>|<var class="Ar">volume</var></dt>
  <dd>Creates a clone of the given snapshot. See the
      <a class="Sx" href="#Clones">Clones</a> section for details. The target
      dataset can be located anywhere in the ZFS hierarchy, and is created as
      the same type as the original.
    <dl class="Bl-tag">
      <dt id="o~4"><a class="permalink" href="#o~4"><code class="Fl">-o</code></a>
        <var class="Ar">property</var>=<var class="Ar">value</var></dt>
      <dd>Sets the specified property; see <code class="Nm">zfs</code>
          <code class="Cm">create</code> for details.</dd>
      <dt id="p~5"><a class="permalink" href="#p~5"><code class="Fl">-p</code></a></dt>
      <dd>Creates all the non-existing parent datasets. Datasets created in this
          manner are automatically mounted according to the
          <b class="Sy">mountpoint</b> property inherited from their parent. If
          the target filesystem or volume already exists, the operation
          completes successfully.</dd>
    </dl>
  </dd>
  <dt><code class="Nm">zfs</code> <code class="Cm">promote</code>
    <var class="Ar">clone-filesystem</var></dt>
  <dd>Promotes a clone file system to no longer be dependent on its
      &quot;origin&quot; snapshot. This makes it possible to destroy the file
      system that the clone was created from. The clone parent-child dependency
      relationship is reversed, so that the origin file system becomes a clone
      of the specified file system.
    <p class="Pp">The snapshot that was cloned, and any snapshots previous to
        this snapshot, are now owned by the promoted clone. The space they use
        moves from the origin file system to the promoted clone, so enough space
        must be available to accommodate these snapshots. No new space is
        consumed by this operation, but the space accounting is adjusted. The
        promoted clone must not have any conflicting snapshot names of its own.
        The <code class="Cm">rename</code> subcommand can be used to rename any
        conflicting snapshots.</p>
  </dd>
  <dt><code class="Nm">zfs</code> <code class="Cm">rename</code>
    [<code class="Fl">-f</code>]
    <var class="Ar">filesystem</var>|<var class="Ar">volume</var>|<var class="Ar">snapshot</var>
    <var class="Ar">filesystem</var>|<var class="Ar">volume</var>|<var class="Ar">snapshot</var></dt>
  <dd style="width: auto;">&#x00A0;</dd>
  <dt><code class="Nm">zfs</code> <code class="Cm">rename</code>
    [<code class="Fl">-fp</code>]
    <var class="Ar">filesystem</var>|<var class="Ar">volume</var>
    <var class="Ar">filesystem</var>|<var class="Ar">volume</var></dt>
  <dd>Renames the given dataset. The new target can be located anywhere in the
      ZFS hierarchy, with the exception of snapshots. Snapshots can only be
      renamed within the parent file system or volume. When renaming a snapshot,
      the parent file system of the snapshot does not need to be specified as
      part of the second argument. Renamed file systems can inherit new mount
      points, in which case they are unmounted and remounted at the new mount
      point.
    <dl class="Bl-tag">
      <dt id="f~3"><a class="permalink" href="#f~3"><code class="Fl">-f</code></a></dt>
      <dd>Force unmount any filesystems that need to be unmounted in the
          process.</dd>
      <dt id="p~6"><a class="permalink" href="#p~6"><code class="Fl">-p</code></a></dt>
      <dd>Creates all the nonexistent parent datasets. Datasets created in this
          manner are automatically mounted according to the
          <b class="Sy">mountpoint</b> property inherited from their
        parent.</dd>
    </dl>
  </dd>
  <dt><code class="Nm">zfs</code> <code class="Cm">rename</code>
    <code class="Fl">-r</code> <var class="Ar">snapshot</var>
    <var class="Ar">snapshot</var></dt>
  <dd>Recursively rename the snapshots of all descendent datasets. Snapshots are
      the only dataset that can be renamed recursively.</dd>
  <dt><code class="Nm">zfs</code> <code class="Cm">list</code>
    [<code class="Fl">-r</code>|<code class="Fl">-d</code>
    <var class="Ar">depth</var>] [<code class="Fl">-Hp</code>]
    [<code class="Fl">-o</code>
    <var class="Ar">property</var>[,<var class="Ar">property</var>]...]
    [<code class="Fl">-s</code> <var class="Ar">property</var>]...
    [<code class="Fl">-S</code> <var class="Ar">property</var>]...
    [<code class="Fl">-t</code>
    <var class="Ar">type</var>[,<var class="Ar">type</var>]...]
    [<var class="Ar">filesystem</var>|<var class="Ar">volume</var>|<var class="Ar">snapshot</var>]...</dt>
  <dd>Lists the property information for the given datasets in tabular form. If
      specified, you can list property information by the absolute pathname or
      the relative pathname. By default, all file systems and volumes are
      displayed. Snapshots are displayed if the <b class="Sy">listsnaps</b>
      property is <b class="Sy">on</b> (the default is <b class="Sy">off</b>).
      The following fields are displayed,
      <b class="Sy">name</b>,<b class="Sy">used</b>,<b class="Sy">available</b>,<b class="Sy">referenced</b>,<b class="Sy">mountpoint</b>.
    <dl class="Bl-tag">
      <dt id="H"><a class="permalink" href="#H"><code class="Fl">-H</code></a></dt>
      <dd>Used for scripting mode. Do not print headers and separate fields by a
          single tab instead of arbitrary white space.</dd>
      <dt id="S"><a class="permalink" href="#S"><code class="Fl">-S</code></a>
        <var class="Ar">property</var></dt>
      <dd>Same as the <code class="Fl">-s</code> option, but sorts by property
          in descending order.</dd>
      <dt id="d~2"><a class="permalink" href="#d~2"><code class="Fl">-d</code></a>
        <var class="Ar">depth</var></dt>
      <dd>Recursively display any children of the dataset, limiting the
          recursion to <var class="Ar">depth</var>. A
          <var class="Ar">depth</var> of <b class="Sy">1</b> will display only
          the dataset and its direct children.</dd>
      <dt id="o~5"><a class="permalink" href="#o~5"><code class="Fl">-o</code></a>
        <var class="Ar">property</var></dt>
      <dd>A comma-separated list of properties to display. The property must be:
        <ul class="Bl-bullet">
          <li>One of the properties described in the
              <a class="Sx" href="#Native_Properties">Native Properties</a>
              section</li>
          <li>A user property</li>
          <li>The value <b class="Sy">name</b> to display the dataset name</li>
          <li id="space">The value
              <a class="permalink" href="#space"><b class="Sy">space</b></a> to
              display space usage properties on file systems and volumes. This
              is a shortcut for specifying <code class="Fl">-o</code>
              <b class="Sy">name</b>,<b class="Sy">avail</b>,<b class="Sy">used</b>,<a class="permalink" href="#usedsnap"><b class="Sy" id="usedsnap">usedsnap</b></a>,<a class="permalink" href="#usedds"><b class="Sy" id="usedds">usedds</b></a>,<a class="permalink" href="#usedrefreserv"><b class="Sy" id="usedrefreserv">usedrefreserv</b></a>,<a class="permalink" href="#usedchild"><b class="Sy" id="usedchild">usedchild</b></a>
              <code class="Fl">-t</code>
              <b class="Sy">filesystem</b>,<b class="Sy">volume</b> syntax.</li>
        </ul>
      </dd>
      <dt id="p~7"><a class="permalink" href="#p~7"><code class="Fl">-p</code></a></dt>
      <dd>Display numbers in parsable (exact) values.</dd>
      <dt id="r~5"><a class="permalink" href="#r~5"><code class="Fl">-r</code></a></dt>
      <dd>Recursively display any children of the dataset on the command
        line.</dd>
      <dt id="s~2"><a class="permalink" href="#s~2"><code class="Fl">-s</code></a>
        <var class="Ar">property</var></dt>
      <dd>A property for sorting the output by column in ascending order based
          on the value of the property. The property must be one of the
          properties described in the
          <a class="Sx" href="#Properties">Properties</a> section, or the
          special value <b class="Sy">name</b> to sort by the dataset name.
          Multiple properties can be specified at one time using multiple
          <code class="Fl">-s</code> property options. Multiple
          <code class="Fl">-s</code> options are evaluated from left to right in
          decreasing order of importance. The following is a list of sorting
          criteria:
        <ul class="Bl-bullet">
          <li>Numeric types sort in numeric order.</li>
          <li>String types sort in alphabetical order.</li>
          <li>Types inappropriate for a row sort that row to the literal bottom,
              regardless of the specified ordering.</li>
        </ul>
        <p class="Pp">If no sorting options are specified the existing behavior
            of <code class="Nm">zfs</code> <code class="Cm">list</code> is
            preserved.</p>
      </dd>
      <dt id="t"><a class="permalink" href="#t"><code class="Fl">-t</code></a>
        <var class="Ar">type</var></dt>
      <dd>A comma-separated list of types to display, where
          <var class="Ar">type</var> is one of <b class="Sy">filesystem</b>,
          <b class="Sy">snapshot</b>, <b class="Sy">volume</b>,
          <b class="Sy">bookmark</b>, or <b class="Sy">all</b>. For example,
          specifying <code class="Fl">-t</code> <b class="Sy">snapshot</b>
          displays only snapshots.</dd>
    </dl>
  </dd>
  <dt id="B"><code class="Nm">zfs</code> <code class="Cm">set</code>
    <var class="Ar">property</var>=<var class="Ar">value</var>
    [<var class="Ar">property</var>=<var class="Ar">value</var>]...
    <var class="Ar">filesystem</var>|<var class="Ar">volume</var>|<var class="Ar">snapshot</var>...</dt>
  <dd>Sets the property or list of properties to the given value(s) for each
      dataset. Only some properties can be edited. See the
      <a class="Sx" href="#Properties">Properties</a> section for more
      information on what properties can be set and acceptable values. Numeric
      values can be specified as exact values, or in a human-readable form with
      a suffix of <a class="permalink" href="#B"><b class="Sy">B</b></a>,
      <a class="permalink" href="#K"><b class="Sy" id="K">K</b></a>,
      <b class="Sy">M</b>,
      <a class="permalink" href="#G"><b class="Sy" id="G">G</b></a>,
      <a class="permalink" href="#T"><b class="Sy" id="T">T</b></a>,
      <a class="permalink" href="#P"><b class="Sy" id="P">P</b></a>,
      <a class="permalink" href="#E"><b class="Sy" id="E">E</b></a>,
      <b class="Sy">Z</b> (for bytes, kilobytes, megabytes, gigabytes,
      terabytes, petabytes, exabytes, or zettabytes, respectively). User
      properties can be set on snapshots. For more information, see the
      <a class="Sx" href="#User_Properties">User Properties</a> section.</dd>
  <dt><code class="Nm">zfs</code> <code class="Cm">get</code>
    [<code class="Fl">-r</code>|<code class="Fl">-d</code>
    <var class="Ar">depth</var>] [<code class="Fl">-Hp</code>]
    [<code class="Fl">-o</code>
    <var class="Ar">field</var>[,<var class="Ar">field</var>]...]
    [<code class="Fl">-s</code>
    <var class="Ar">source</var>[,<var class="Ar">source</var>]...]
    [<code class="Fl">-t</code>
    <var class="Ar">type</var>[,<var class="Ar">type</var>]...]
    <code class="Cm">all</code> |
    <var class="Ar">property</var>[,<var class="Ar">property</var>]...
    <var class="Ar">filesystem</var>|<var class="Ar">volume</var>|<var class="Ar">snapshot</var>|<var class="Ar">bookmark</var>...</dt>
  <dd>Displays properties for the given datasets. If no datasets are specified,
      then the command displays properties for all datasets on the system. For
      each property, the following columns are displayed:
    <div class="Bd Pp Li">
    <pre>    name      Dataset name
    property  Property name
    value     Property value
    source    Property source.  Can either be local, default,
              temporary, inherited, or none (-).</pre>
    </div>
    <p class="Pp">All columns are displayed by default, though this can be
        controlled by using the <code class="Fl">-o</code> option. This command
        takes a comma-separated list of properties as described in the
        <a class="Sx" href="#Native_Properties">Native Properties</a> and
        <a class="Sx" href="#User_Properties">User Properties</a> sections.</p>
    <p class="Pp">The special value <b class="Sy">all</b> can be used to display
        all properties that apply to the given dataset's type (filesystem,
        volume, snapshot, or bookmark).</p>
    <dl class="Bl-tag">
      <dt id="H~2"><a class="permalink" href="#H~2"><code class="Fl">-H</code></a></dt>
      <dd>Display output in a form more easily parsed by scripts. Any headers
          are omitted, and fields are explicitly separated by a single tab
          instead of an arbitrary amount of space.</dd>
      <dt id="d~3"><a class="permalink" href="#d~3"><code class="Fl">-d</code></a>
        <var class="Ar">depth</var></dt>
      <dd>Recursively display any children of the dataset, limiting the
          recursion to <var class="Ar">depth</var>. A depth of
          <b class="Sy">1</b> will display only the dataset and its direct
          children.</dd>
      <dt id="o~6"><a class="permalink" href="#o~6"><code class="Fl">-o</code></a>
        <var class="Ar">field</var></dt>
      <dd>A comma-separated list of columns to display.
          <b class="Sy">name</b>,<b class="Sy">property</b>,<a class="permalink" href="#value"><b class="Sy" id="value">value</b></a>,<a class="permalink" href="#source"><b class="Sy" id="source">source</b></a>
          is the default value.</dd>
      <dt id="p~8"><a class="permalink" href="#p~8"><code class="Fl">-p</code></a></dt>
      <dd>Display numbers in parsable (exact) values.</dd>
      <dt id="r~6"><a class="permalink" href="#r~6"><code class="Fl">-r</code></a></dt>
      <dd>Recursively display properties for any children.</dd>
      <dt id="s~3"><a class="permalink" href="#s~3"><code class="Fl">-s</code></a>
        <var class="Ar">source</var></dt>
      <dd>A comma-separated list of sources to display. Those properties coming
          from a source other than those in this list are ignored. Each source
          must be one of the following:
          <a class="permalink" href="#local"><b class="Sy" id="local">local</b></a>,
          <b class="Sy">default</b>,
          <a class="permalink" href="#inherited"><b class="Sy" id="inherited">inherited</b></a>,
          <a class="permalink" href="#temporary"><b class="Sy" id="temporary">temporary</b></a>,
          and <b class="Sy">none</b>. The default value is all sources.</dd>
      <dt id="t~2"><a class="permalink" href="#t~2"><code class="Fl">-t</code></a>
        <var class="Ar">type</var></dt>
      <dd>A comma-separated list of types to display, where
          <var class="Ar">type</var> is one of <b class="Sy">filesystem</b>,
          <b class="Sy">snapshot</b>, <b class="Sy">volume</b>,
          <b class="Sy">bookmark</b>, or <b class="Sy">all</b>.</dd>
    </dl>
  </dd>
  <dt><code class="Nm">zfs</code> <code class="Cm">inherit</code>
    [<code class="Fl">-rS</code>] <var class="Ar">property</var>
    <var class="Ar">filesystem</var>|<var class="Ar">volume</var>|<var class="Ar">snapshot</var>...</dt>
  <dd>Clears the specified property, causing it to be inherited from an
      ancestor, restored to default if no ancestor has the property set, or with
      the <code class="Fl">-S</code> option reverted to the received value if
      one exists. See the <a class="Sx" href="#Properties">Properties</a>
      section for a listing of default values, and details on which properties
      can be inherited.
    <dl class="Bl-tag">
      <dt id="r~7"><a class="permalink" href="#r~7"><code class="Fl">-r</code></a></dt>
      <dd>Recursively inherit the given property for all children.</dd>
      <dt id="S~2"><a class="permalink" href="#S~2"><code class="Fl">-S</code></a></dt>
      <dd>Revert the property to the received value if one exists; otherwise
          operate as if the <code class="Fl">-S</code> option was not
        specified.</dd>
    </dl>
  </dd>
  <dt><code class="Nm">zfs</code> <code class="Cm">upgrade</code></dt>
  <dd>Displays a list of file systems that are not the most recent version.</dd>
  <dt><code class="Nm">zfs</code> <code class="Cm">upgrade</code>
    <code class="Fl">-v</code></dt>
  <dd>Displays a list of currently supported file system versions.</dd>
  <dt><code class="Nm">zfs</code> <code class="Cm">upgrade</code>
    [<code class="Fl">-r</code>] [<code class="Fl">-V</code>
    <var class="Ar">version</var>] <code class="Fl">-a</code> |
    <var class="Ar">filesystem</var></dt>
  <dd>Upgrades file systems to a new on-disk version. Once this is done, the
      file systems will no longer be accessible on systems running older
      versions of the software. <code class="Nm">zfs</code>
      <code class="Cm">send</code> streams generated from new snapshots of these
      file systems cannot be accessed on systems running older versions of the
      software.
    <p class="Pp">In general, the file system version is independent of the pool
        version. See <a href="../8/zpool.8.html" class="Xr">zpool(8)</a> for information on the
        <code class="Nm">zpool</code> <code class="Cm">upgrade</code>
      command.</p>
    <p class="Pp">In some cases, the file system version and the pool version
        are interrelated and the pool version must be upgraded before the file
        system version can be upgraded.</p>
    <dl class="Bl-tag">
      <dt id="V"><a class="permalink" href="#V"><code class="Fl">-V</code></a>
        <var class="Ar">version</var></dt>
      <dd>Upgrade to the specified <var class="Ar">version</var>. If the
          <code class="Fl">-V</code> flag is not specified, this command
          upgrades to the most recent version. This option can only be used to
          increase the version number, and only up to the most recent version
          supported by this software.</dd>
      <dt id="a"><a class="permalink" href="#a"><code class="Fl">-a</code></a></dt>
      <dd>Upgrade all file systems on all imported pools.</dd>
      <dt><var class="Ar">filesystem</var></dt>
      <dd>Upgrade the specified file system.</dd>
      <dt id="r~8"><a class="permalink" href="#r~8"><code class="Fl">-r</code></a></dt>
      <dd>Upgrade the specified file system and all descendent file
        systems.</dd>
    </dl>
  </dd>
  <dt id="userused@"><code class="Nm">zfs</code>
    <code class="Cm">userspace</code> [<code class="Fl">-Hinp</code>]
    [<code class="Fl">-o</code>
    <var class="Ar">field</var>[,<var class="Ar">field</var>]...]
    [<code class="Fl">-s</code> <var class="Ar">field</var>]...
    [<code class="Fl">-S</code> <var class="Ar">field</var>]...
    [<code class="Fl">-t</code>
    <var class="Ar">type</var>[,<var class="Ar">type</var>]...]
    <var class="Ar">filesystem</var>|<var class="Ar">snapshot</var></dt>
  <dd>Displays space consumed by, and quotas on, each user in the specified
      filesystem or snapshot. This corresponds to the
      <a class="permalink" href="#userused@"><b class="Sy">userused@</b></a><i class="Em">user</i>,
      <a class="permalink" href="#userobjused@"><b class="Sy" id="userobjused@">userobjused@</b></a><i class="Em">user</i>,
      <b class="Sy">userquota@</b><a class="permalink" href="#user,"><i class="Em" id="user,">user,</i></a>
      and <b class="Sy">userobjquota@</b><i class="Em">user</i> properties.
    <dl class="Bl-tag">
      <dt id="H~3"><a class="permalink" href="#H~3"><code class="Fl">-H</code></a></dt>
      <dd>Do not print headers, use tab-delimited output.</dd>
      <dt id="S~3"><a class="permalink" href="#S~3"><code class="Fl">-S</code></a>
        <var class="Ar">field</var></dt>
      <dd>Sort by this field in reverse order. See
        <code class="Fl">-s</code>.</dd>
      <dt id="i"><a class="permalink" href="#i"><code class="Fl">-i</code></a></dt>
      <dd>Translate SID to POSIX ID. The POSIX ID may be ephemeral if no mapping
          exists. Normal POSIX interfaces (for example,
          <a class="Xr">stat(2)</a>, <code class="Nm">ls</code>
          <code class="Fl">-l</code>) perform this translation, so the
          <code class="Fl">-i</code> option allows the output from
          <code class="Nm">zfs</code> <code class="Cm">userspace</code> to be
          compared directly with those utilities. However,
          <code class="Fl">-i</code> may lead to confusion if some files were
          created by an SMB user before a SMB-to-POSIX name mapping was
          established. In such a case, some files will be owned by the SMB
          entity and some by the POSIX entity. However, the
          <code class="Fl">-i</code> option will report that the POSIX entity
          has the total usage and quota for both.</dd>
      <dt id="n~3"><a class="permalink" href="#n~3"><code class="Fl">-n</code></a></dt>
      <dd>Print numeric ID instead of user/group name.</dd>
      <dt id="o~7"><a class="permalink" href="#o~7"><code class="Fl">-o</code></a>
        <var class="Ar">field</var>[,<var class="Ar">field</var>]...</dt>
      <dd>Display only the specified fields from the following set:
          <b class="Sy">type</b>, <b class="Sy">name</b>,
          <b class="Sy">used</b>, <b class="Sy">quota</b>. The default is to
          display all fields.</dd>
      <dt id="p~9"><a class="permalink" href="#p~9"><code class="Fl">-p</code></a></dt>
      <dd>Use exact (parsable) numeric output.</dd>
      <dt id="s~4"><a class="permalink" href="#s~4"><code class="Fl">-s</code></a>
        <var class="Ar">field</var></dt>
      <dd>Sort output by this field. The <code class="Fl">-s</code> and
          <code class="Fl">-S</code> flags may be specified multiple times to
          sort first by one field, then by another. The default is
          <code class="Fl">-s</code> <b class="Sy">type</b>
          <code class="Fl">-s</code> <b class="Sy">name</b>.</dd>
      <dt id="t~3"><a class="permalink" href="#t~3"><code class="Fl">-t</code></a>
        <var class="Ar">type</var>[,<var class="Ar">type</var>]...</dt>
      <dd>Print only the specified types from the following set:
          <b class="Sy">all</b>, <b class="Sy">posixuser</b>,
          <b class="Sy">smbuser</b>, <b class="Sy">posixgroup</b>,
          <b class="Sy">smbgroup</b>. The default is <code class="Fl">-t</code>
          <b class="Sy">posixuser</b>,<b class="Sy">smbuser</b>. The default can
          be changed to include group types.</dd>
    </dl>
  </dd>
  <dt><code class="Nm">zfs</code> <code class="Cm">groupspace</code>
    [<code class="Fl">-Hinp</code>] [<code class="Fl">-o</code>
    <var class="Ar">field</var>[,<var class="Ar">field</var>]...]
    [<code class="Fl">-s</code> <var class="Ar">field</var>]...
    [<code class="Fl">-S</code> <var class="Ar">field</var>]...
    [<code class="Fl">-t</code>
    <var class="Ar">type</var>[,<var class="Ar">type</var>]...]
    <var class="Ar">filesystem</var>|<var class="Ar">snapshot</var></dt>
  <dd>Displays space consumed by, and quotas on, each group in the specified
      filesystem or snapshot. This subcommand is identical to
      <code class="Nm">zfs</code> <code class="Cm">userspace</code>, except that
      the default types to display are <code class="Fl">-t</code>
      <b class="Sy">posixgroup</b>,<b class="Sy">smbgroup</b>.</dd>
  <dt><code class="Nm">zfs</code> <code class="Cm">mount</code></dt>
  <dd>Displays all ZFS file systems currently mounted.</dd>
  <dt><code class="Nm">zfs</code> <code class="Cm">mount</code>
    [<code class="Fl">-Ov</code>] [<code class="Fl">-o</code>
    <var class="Ar">options</var>] <code class="Fl">-a</code> |
    <var class="Ar">filesystem</var></dt>
  <dd>Mounts ZFS file systems.
    <dl class="Bl-tag">
      <dt id="O"><a class="permalink" href="#O"><code class="Fl">-O</code></a></dt>
      <dd>Perform an overlay mount. See <a class="Xr">mount(8)</a> for more
          information.</dd>
      <dt id="a~2"><a class="permalink" href="#a~2"><code class="Fl">-a</code></a></dt>
      <dd>Mount all available ZFS file systems. Invoked automatically as part of
          the boot process.</dd>
      <dt><var class="Ar">filesystem</var></dt>
      <dd>Mount the specified filesystem.</dd>
      <dt id="o~8"><a class="permalink" href="#o~8"><code class="Fl">-o</code></a>
        <var class="Ar">options</var></dt>
      <dd>An optional, comma-separated list of mount options to use temporarily
          for the duration of the mount. See the
          <a class="Sx" href="#Temporary_Mount_Point_Properties">Temporary Mount
          Point Properties</a> section for details.</dd>
      <dt id="v~3"><a class="permalink" href="#v~3"><code class="Fl">-v</code></a></dt>
      <dd>Report mount progress.</dd>
    </dl>
  </dd>
  <dt><code class="Nm">zfs</code> <code class="Cm">unmount</code>
    [<code class="Fl">-f</code>] <code class="Fl">-a</code> |
    <var class="Ar">filesystem</var>|<var class="Ar">mountpoint</var></dt>
  <dd>Unmounts currently mounted ZFS file systems.
    <dl class="Bl-tag">
      <dt id="a~3"><a class="permalink" href="#a~3"><code class="Fl">-a</code></a></dt>
      <dd>Unmount all available ZFS file systems. Invoked automatically as part
          of the shutdown process.</dd>
      <dt><var class="Ar">filesystem</var>|<var class="Ar">mountpoint</var></dt>
      <dd>Unmount the specified filesystem. The command can also be given a path
          to a ZFS file system mount point on the system.</dd>
      <dt id="f~4"><a class="permalink" href="#f~4"><code class="Fl">-f</code></a></dt>
      <dd>Forcefully unmount the file system, even if it is currently in
        use.</dd>
    </dl>
  </dd>
  <dt><code class="Nm">zfs</code> <code class="Cm">share</code>
    <code class="Fl">-a</code> | <var class="Ar">filesystem</var></dt>
  <dd>Shares available ZFS file systems.
    <dl class="Bl-tag">
      <dt id="a~4"><a class="permalink" href="#a~4"><code class="Fl">-a</code></a></dt>
      <dd>Share all available ZFS file systems. Invoked automatically as part of
          the boot process.</dd>
      <dt><var class="Ar">filesystem</var></dt>
      <dd>Share the specified filesystem according to the
          <b class="Sy">sharenfs</b> and <b class="Sy">sharesmb</b> properties.
          File systems are shared when the <b class="Sy">sharenfs</b> or
          <b class="Sy">sharesmb</b> property is set.</dd>
    </dl>
  </dd>
  <dt><code class="Nm">zfs</code> <code class="Cm">unshare</code>
    <code class="Fl">-a</code> |
    <var class="Ar">filesystem</var>|<var class="Ar">mountpoint</var></dt>
  <dd>Unshares currently shared ZFS file systems.
    <dl class="Bl-tag">
      <dt id="a~5"><a class="permalink" href="#a~5"><code class="Fl">-a</code></a></dt>
      <dd>Unshare all available ZFS file systems. Invoked automatically as part
          of the shutdown process.</dd>
      <dt><var class="Ar">filesystem</var>|<var class="Ar">mountpoint</var></dt>
      <dd>Unshare the specified filesystem. The command can also be given a path
          to a ZFS file system shared on the system.</dd>
    </dl>
  </dd>
  <dt><code class="Nm">zfs</code> <code class="Cm">bookmark</code>
    <var class="Ar">snapshot bookmark</var></dt>
  <dd>Creates a bookmark of the given snapshot. Bookmarks mark the point in time
      when the snapshot was created, and can be used as the incremental source
      for a <code class="Nm">zfs</code> <code class="Cm">send</code> command.
    <p class="Pp" id="bookmarks">This feature must be enabled to be used. See
        <a href="../5/zpool-features.5.html" class="Xr">zpool-features(5)</a> for details on ZFS feature flags and
        the
        <a class="permalink" href="#bookmarks"><b class="Sy">bookmarks</b></a>
        feature.</p>
  </dd>
  <dt><code class="Nm">zfs</code> <code class="Cm">send</code>
    [<code class="Fl">-DLPRcenpv</code>]
    [[<code class="Fl">-I</code>|<code class="Fl">-i</code>]
    <var class="Ar">snapshot</var>] <var class="Ar">snapshot</var></dt>
  <dd>Creates a stream representation of the second
      <var class="Ar">snapshot</var>, which is written to standard output. The
      output can be redirected to a file or to a different system (for example,
      using <a class="Xr">ssh(1)</a>). By default, a full stream is generated.
    <dl class="Bl-tag">
      <dt id="D,"><a class="permalink" href="#D,"><code class="Fl">-D,</code></a>
        <code class="Fl">--dedup</code></dt>
      <dd>Generate a deduplicated stream. Blocks which would have been sent
          multiple times in the send stream will only be sent once. The
          receiving system must also support this feature to receive a
          deduplicated stream. This flag can be used regardless of the dataset's
          <b class="Sy">dedup</b> property, but performance will be much better
          if the filesystem uses a dedup-capable checksum (for example,
          <b class="Sy">sha256</b>).</dd>
      <dt id="I"><a class="permalink" href="#I"><code class="Fl">-I</code></a>
        <var class="Ar">snapshot</var></dt>
      <dd>Generate a stream package that sends all intermediary snapshots from
          the first snapshot to the second snapshot. For example,
          <code class="Fl">-I</code> <i class="Em">@a</i> <i class="Em">fs@d</i>
          is similar to <code class="Fl">-i</code> <i class="Em">@a</i>
          <a class="permalink" href="#fs@b"><i class="Em" id="fs@b">fs@b</i></a>;
          <code class="Fl">-i</code>
          <a class="permalink" href="#@b"><i class="Em" id="@b">@b</i></a>
          <a class="permalink" href="#fs@c"><i class="Em" id="fs@c">fs@c</i></a>;
          <code class="Fl">-i</code>
          <a class="permalink" href="#@c"><i class="Em" id="@c">@c</i></a>
          <i class="Em">fs@d</i>. The incremental source may be specified as
          with the <code class="Fl">-i</code> option.</dd>
      <dt id="L,"><a class="permalink" href="#L,"><code class="Fl">-L,</code></a>
        <code class="Fl">--large-block</code></dt>
      <dd>Generate a stream which may contain blocks larger than 128KB. This
          flag has no effect if the <b class="Sy">large_blocks</b> pool feature
          is disabled, or if the <b class="Sy">recordsize</b> property of this
          filesystem has never been set above 128KB. The receiving system must
          have the <b class="Sy">large_blocks</b> pool feature enabled as well.
          See <a href="../5/zpool-features.5.html" class="Xr">zpool-features(5)</a> for details on ZFS feature
          flags and the <b class="Sy">large_blocks</b> feature.</dd>
      <dt id="P,"><a class="permalink" href="#P,"><code class="Fl">-P,</code></a>
        <code class="Fl">--parsable</code></dt>
      <dd>Print machine-parsable verbose information about the stream package
          generated.</dd>
      <dt id="R,"><a class="permalink" href="#R,"><code class="Fl">-R,</code></a>
        <code class="Fl">--replicate</code></dt>
      <dd>Generate a replication stream package, which will replicate the
          specified file system, and all descendent file systems, up to the
          named snapshot. When received, all properties, snapshots, descendent
          file systems, and clones are preserved.
        <p class="Pp">If the <code class="Fl">-i</code> or
            <code class="Fl">-I</code> flags are used in conjunction with the
            <code class="Fl">-R</code> flag, an incremental replication stream
            is generated. The current values of properties, and current snapshot
            and file system names are set when the stream is received. If the
            <code class="Fl">-F</code> flag is specified when this stream is
            received, snapshots and file systems that do not exist on the
            sending side are destroyed.</p>
      </dd>
      <dt id="e,"><a class="permalink" href="#e,"><code class="Fl">-e,</code></a>
        <code class="Fl">--embed</code></dt>
      <dd>Generate a more compact stream by using
          <b class="Sy">WRITE_EMBEDDED</b> records for blocks which are stored
          more compactly on disk by the <b class="Sy">embedded_data</b> pool
          feature. This flag has no effect if the
          <b class="Sy">embedded_data</b> feature is disabled. The receiving
          system must have the <b class="Sy">embedded_data</b> feature enabled.
          If the <b class="Sy">lz4_compress</b> feature is active on the sending
          system, then the receiving system must have that feature enabled as
          well. See <a href="../5/zpool-features.5.html" class="Xr">zpool-features(5)</a> for details on ZFS
          feature flags and the <b class="Sy">embedded_data</b> feature.</dd>
      <dt id="c,"><a class="permalink" href="#c,"><code class="Fl">-c,</code></a>
        <code class="Fl">--compressed</code></dt>
      <dd>Generate a more compact stream by using compressed WRITE records for
          blocks which are compressed on disk and in memory (see the
          <b class="Sy">compression</b> property for details). If the
          <b class="Sy">lz4_compress</b> feature is active on the sending
          system, then the receiving system must have that feature enabled as
          well. If the <b class="Sy">large_blocks</b> feature is enabled on the
          sending system but the <code class="Fl">-L</code> option is not
          supplied in conjunction with <code class="Fl">-c</code>, then the data
          will be decompressed before sending so it can be split into smaller
          block sizes.</dd>
      <dt id="i~2"><a class="permalink" href="#i~2"><code class="Fl">-i</code></a>
        <var class="Ar">snapshot</var></dt>
      <dd>Generate an incremental stream from the first
          <var class="Ar">snapshot</var> (the incremental source) to the second
          <var class="Ar">snapshot</var> (the incremental target). The
          incremental source can be specified as the last component of the
          snapshot name (the <b class="Sy">@</b> character and following) and it
          is assumed to be from the same file system as the incremental target.
        <p class="Pp" id="pool/fs@origin">If the destination is a clone, the
            source may be the origin snapshot, which must be fully specified
            (for example,
            <a class="permalink" href="#pool/fs@origin"><i class="Em">pool/fs@origin</i></a>,
            not just
            <a class="permalink" href="#@origin"><i class="Em" id="@origin">@origin</i></a>).</p>
      </dd>
      <dt id="n,"><a class="permalink" href="#n,"><code class="Fl">-n,</code></a>
        <code class="Fl">--dryrun</code></dt>
      <dd>Do a dry-run (&quot;No-op&quot;) send. Do not generate any actual send
          data. This is useful in conjunction with the
          <code class="Fl">-v</code> or <code class="Fl">-P</code> flags to
          determine what data will be sent. In this case, the verbose output
          will be written to standard output (contrast with a non-dry-run, where
          the stream is written to standard output and the verbose output goes
          to standard error).</dd>
      <dt id="p,"><a class="permalink" href="#p,"><code class="Fl">-p,</code></a>
        <code class="Fl">--props</code></dt>
      <dd>Include the dataset's properties in the stream. This flag is implicit
          when <code class="Fl">-R</code> is specified. The receiving system
          must also support this feature.</dd>
      <dt id="v,"><a class="permalink" href="#v,"><code class="Fl">-v,</code></a>
        <code class="Fl">--verbose</code></dt>
      <dd>Print verbose information about the stream package generated. This
          information includes a per-second report of how much data has been
          sent.
        <p class="Pp">The format of the stream is committed. You will be able to
            receive your streams on future versions of ZFS .</p>
      </dd>
    </dl>
  </dd>
  <dt><code class="Nm">zfs</code> <code class="Cm">send</code>
    [<code class="Fl">-Lce</code>] [<code class="Fl">-i</code>
    <var class="Ar">snapshot</var>|<var class="Ar">bookmark</var>]
    <var class="Ar">filesystem</var>|<var class="Ar">volume</var>|<var class="Ar">snapshot</var></dt>
  <dd>Generate a send stream, which may be of a filesystem, and may be
      incremental from a bookmark. If the destination is a filesystem or volume,
      the pool must be read-only, or the filesystem must not be mounted. When
      the stream generated from a filesystem or volume is received, the default
      snapshot name will be &quot;--head--&quot;.
    <dl class="Bl-tag">
      <dt id="L,~2"><a class="permalink" href="#L,~2"><code class="Fl">-L,</code></a>
        <code class="Fl">--large-block</code></dt>
      <dd>Generate a stream which may contain blocks larger than 128KB. This
          flag has no effect if the <b class="Sy">large_blocks</b> pool feature
          is disabled, or if the <b class="Sy">recordsize</b> property of this
          filesystem has never been set above 128KB. The receiving system must
          have the <b class="Sy">large_blocks</b> pool feature enabled as well.
          See <a href="../5/zpool-features.5.html" class="Xr">zpool-features(5)</a> for details on ZFS feature
          flags and the <b class="Sy">large_blocks</b> feature.</dd>
      <dt id="c,~2"><a class="permalink" href="#c,~2"><code class="Fl">-c,</code></a>
        <code class="Fl">--compressed</code></dt>
      <dd>Generate a more compact stream by using compressed WRITE records for
          blocks which are compressed on disk and in memory (see the
          <b class="Sy">compression</b> property for details). If the
          <b class="Sy">lz4_compress</b> feature is active on the sending
          system, then the receiving system must have that feature enabled as
          well. If the <b class="Sy">large_blocks</b> feature is enabled on the
          sending system but the <code class="Fl">-L</code> option is not
          supplied in conjunction with <code class="Fl">-c</code>, then the data
          will be decompressed before sending so it can be split into smaller
          block sizes.</dd>
      <dt id="e,~2"><a class="permalink" href="#e,~2"><code class="Fl">-e,</code></a>
        <code class="Fl">--embed</code></dt>
      <dd>Generate a more compact stream by using
          <b class="Sy">WRITE_EMBEDDED</b> records for blocks which are stored
          more compactly on disk by the <b class="Sy">embedded_data</b> pool
          feature. This flag has no effect if the
          <b class="Sy">embedded_data</b> feature is disabled. The receiving
          system must have the <b class="Sy">embedded_data</b> feature enabled.
          If the <b class="Sy">lz4_compress</b> feature is active on the sending
          system, then the receiving system must have that feature enabled as
          well. See <a href="../5/zpool-features.5.html" class="Xr">zpool-features(5)</a> for details on ZFS
          feature flags and the <b class="Sy">embedded_data</b> feature.</dd>
      <dt id="i~3"><a class="permalink" href="#i~3"><code class="Fl">-i</code></a>
        <var class="Ar">snapshot</var>|<var class="Ar">bookmark</var></dt>
      <dd>Generate an incremental send stream. The incremental source must be an
          earlier snapshot in the destination's history. It will commonly be an
          earlier snapshot in the destination's file system, in which case it
          can be specified as the last component of the name (the
          <a class="permalink" href="#_~2"><b class="Sy" id="_~2">#</b></a> or
          <b class="Sy">@</b> character and following).
        <p class="Pp">If the incremental target is a clone, the incremental
            source can be the origin snapshot, or an earlier snapshot in the
            origin's filesystem, or the origin's origin, etc.</p>
      </dd>
    </dl>
  </dd>
  <dt><code class="Nm">zfs</code> <code class="Cm">send</code>
    [<code class="Fl">-Penv</code>] <code class="Fl">-t</code>
    <var class="Ar">receive_resume_token</var></dt>
  <dd>Creates a send stream which resumes an interrupted receive. The
      <var class="Ar">receive_resume_token</var> is the value of this property
      on the filesystem or volume that was being received into. See the
      documentation for <b class="Sy">zfs receive -s</b> for more details.</dd>
  <dt><code class="Nm">zfs</code> <code class="Cm">receive</code>
    [<code class="Fl">-Fnsuv</code>] [<code class="Fl">-o</code>
    <b class="Sy">origin</b>=<var class="Ar">snapshot</var>]
    [<code class="Fl">-o</code>
    <var class="Ar">property</var>=<var class="Ar">value</var>]
    [<code class="Fl">-x</code> <var class="Ar">property</var>]
    <var class="Ar">filesystem</var>|<var class="Ar">volume</var>|<var class="Ar">snapshot</var></dt>
  <dd style="width: auto;">&#x00A0;</dd>
  <dt><code class="Nm">zfs</code> <code class="Cm">receive</code>
    [<code class="Fl">-Fnsuv</code>]
    [<code class="Fl">-d</code>|<code class="Fl">-e</code>]
    [<code class="Fl">-o</code>
    <b class="Sy">origin</b>=<var class="Ar">snapshot</var>]
    [<code class="Fl">-o</code>
    <var class="Ar">property</var>=<var class="Ar">value</var>]
    [<code class="Fl">-x</code> <var class="Ar">property</var>]
    <var class="Ar">filesystem</var></dt>
  <dd>Creates a snapshot whose contents are as specified in the stream provided
      on standard input. If a full stream is received, then a new file system is
      created as well. Streams are created using the <code class="Nm">zfs</code>
      <code class="Cm">send</code> subcommand, which by default creates a full
      stream. <code class="Nm">zfs</code> <code class="Cm">recv</code> can be
      used as an alias for <code class="Nm">zfs</code>
      <code class="Cm">receive.</code>
    <p class="Pp" id="zvols">If an incremental stream is received, then the
        destination file system must already exist, and its most recent snapshot
        must match the incremental stream's source. For
        <a class="permalink" href="#zvols"><b class="Sy">zvols</b></a>, the
        destination device link is destroyed and recreated, which means the
        <a class="permalink" href="#zvol"><b class="Sy" id="zvol">zvol</b></a>
        cannot be accessed during the <code class="Cm">receive</code>
      operation.</p>
    <p class="Pp">When a snapshot replication package stream that is generated
        by using the <code class="Nm">zfs</code> <code class="Cm">send</code>
        <code class="Fl">-R</code> command is received, any snapshots that do
        not exist on the sending location are destroyed by using the
        <code class="Nm">zfs</code> <code class="Cm">destroy</code>
        <code class="Fl">-d</code> command.</p>
    <p class="Pp" id="origin=snapshot">If <code class="Fl">-o</code>
        <i class="Em">property=value</i> or <code class="Fl">-x</code>
        <i class="Em">property</i> is specified, it applies to the effective
        value of the property throughout the entire subtree of replicated
        datasets. Effective property values will be set (
        <code class="Fl">-o</code> ) or inherited ( <code class="Fl">-x</code> )
        on the topmost in the replicated subtree. In descendant datasets, if the
        property is set by the send stream, it will be overridden by forcing the
        property to be inherited from the top&#x2010;most file system. Received
        properties are retained in spite of being overridden and may be restored
        with <code class="Nm">zfs</code> <code class="Cm">inherit</code>
        <code class="Fl">-S</code>. Specifying <code class="Fl">-o</code>
        <a class="permalink" href="#origin=snapshot"><i class="Em">origin=snapshot</i></a>
        is a special case because, even if <b class="Sy">origin</b> is a
        read-only property and cannot be set, it's allowed to receive the send
        stream as a clone of the given snapshot.</p>
    <p class="Pp">The name of the snapshot (and file system, if a full stream is
        received) that this subcommand creates depends on the argument type and
        the use of the <code class="Fl">-d</code> or <code class="Fl">-e</code>
        options.</p>
    <p class="Pp">If the argument is a snapshot name, the specified
        <var class="Ar">snapshot</var> is created. If the argument is a file
        system or volume name, a snapshot with the same name as the sent
        snapshot is created within the specified
        <var class="Ar">filesystem</var> or <var class="Ar">volume</var>. If
        neither of the <code class="Fl">-d</code> or <code class="Fl">-e</code>
        options are specified, the provided target snapshot name is used exactly
        as provided.</p>
    <p class="Pp">The <code class="Fl">-d</code> and <code class="Fl">-e</code>
        options cause the file system name of the target snapshot to be
        determined by appending a portion of the sent snapshot's name to the
        specified target <var class="Ar">filesystem</var>. If the
        <code class="Fl">-d</code> option is specified, all but the first
        element of the sent snapshot's file system path (usually the pool name)
        is used and any required intermediate file systems within the specified
        one are created. If the <code class="Fl">-e</code> option is specified,
        then only the last element of the sent snapshot's file system name (i.e.
        the name of the source file system itself) is used as the target file
        system name.</p>
    <dl class="Bl-tag">
      <dt id="F"><a class="permalink" href="#F"><code class="Fl">-F</code></a></dt>
      <dd>Force a rollback of the file system to the most recent snapshot before
          performing the receive operation. If receiving an incremental
          replication stream (for example, one generated by
          <code class="Nm">zfs</code> <code class="Cm">send</code>
          <code class="Fl">-R</code>
          [<code class="Fl">-i</code>|<code class="Fl">-I</code>]), destroy
          snapshots and file systems that do not exist on the sending side.</dd>
      <dt id="d~4"><a class="permalink" href="#d~4"><code class="Fl">-d</code></a></dt>
      <dd>Discard the first element of the sent snapshot's file system name,
          using the remaining elements to determine the name of the target file
          system for the new snapshot as described in the paragraph above.</dd>
      <dt id="e"><a class="permalink" href="#e"><code class="Fl">-e</code></a></dt>
      <dd>Discard all but the last element of the sent snapshot's file system
          name, using that element to determine the name of the target file
          system for the new snapshot as described in the paragraph above.</dd>
      <dt id="n~4"><a class="permalink" href="#n~4"><code class="Fl">-n</code></a></dt>
      <dd>Do not actually receive the stream. This can be useful in conjunction
          with the <code class="Fl">-v</code> option to verify the name the
          receive operation would use.</dd>
      <dt id="o~9"><a class="permalink" href="#o~9"><code class="Fl">-o</code></a>
        <b class="Sy">origin</b>=<var class="Ar">snapshot</var></dt>
      <dd>Forces the stream to be received as a clone of the given snapshot. If
          the stream is a full send stream, this will create the filesystem
          described by the stream as a clone of the specified snapshot. Which
          snapshot was specified will not affect the success or failure of the
          receive, as long as the snapshot does exist. If the stream is an
          incremental send stream, all the normal verification will be
          performed.</dd>
      <dt id="o~10"><a class="permalink" href="#o~10"><code class="Fl">-o</code></a>
        <i class="Em">property=value</i></dt>
      <dd>Sets the specified property as if the command
          <code class="Nm">zfs</code> <code class="Cm">set</code>
          <i class="Em">property=value</i> was invoked immediately before the
          receive. When receiving a stream from <code class="Nm">zfs</code>
          <code class="Cm">send</code> <code class="Fl">-R</code>, causes the
          property to be inherited by all descendant datasets, as through
          <code class="Nm">zfs</code> <code class="Cm">inherit</code>
          <i class="Em">property</i> was run on any descendant datasets that
          have this property set on the sending system.
        <p class="Pp">Any editable property can be set at receive time. Set-once
            properties bound to the received data, such as
            <b class="Sy">normalization</b> and
            <b class="Sy">casesensitivity</b>, cannot be set at receive time
            even when the datasets are newly created by
            <code class="Nm">zfs</code> <code class="Cm">receive</code>.
            Additionally both settable properties <b class="Sy">version</b> and
            <b class="Sy">volsize</b> cannot be set at receive time.</p>
        <p class="Pp">The <code class="Fl">-o</code> option may be specified
            multiple times, for different properties. An error results if the
            same property is specified in multiple <code class="Fl">-o</code> or
            <code class="Fl">-x</code> options.</p>
      </dd>
      <dt id="s~5"><a class="permalink" href="#s~5"><code class="Fl">-s</code></a></dt>
      <dd>If the receive is interrupted, save the partially received state,
          rather than deleting it. Interruption may be due to premature
          termination of the stream (e.g. due to network failure or failure of
          the remote system if the stream is being read over a network
          connection), a checksum error in the stream, termination of the
          <code class="Nm">zfs</code> <code class="Cm">receive</code> process,
          or unclean shutdown of the system.
        <p class="Pp">The receive can be resumed with a stream generated by
            <code class="Nm">zfs</code> <code class="Cm">send</code>
            <code class="Fl">-t</code> <var class="Ar">token</var>, where the
            <var class="Ar">token</var> is the value of the
            <b class="Sy">receive_resume_token</b> property of the filesystem or
            volume which is received into.</p>
        <p class="Pp" id="extensible_dataset">To use this flag, the storage pool
            must have the
            <a class="permalink" href="#extensible_dataset"><b class="Sy">extensible_dataset</b></a>
            feature enabled. See <a href="../5/zpool-features.5.html" class="Xr">zpool-features(5)</a> for details
            on ZFS feature flags.</p>
      </dd>
      <dt id="u"><a class="permalink" href="#u"><code class="Fl">-u</code></a></dt>
      <dd>File system that is associated with the received stream is not
          mounted.</dd>
      <dt id="v~4"><a class="permalink" href="#v~4"><code class="Fl">-v</code></a></dt>
      <dd>Print verbose information about the stream and the time required to
          perform the receive operation.</dd>
      <dt id="x"><a class="permalink" href="#x"><code class="Fl">-x</code></a>
        <i class="Em">property</i></dt>
      <dd>Ensures that the effective value of the specified property after the
          receive is unaffected by the value of that property in the send stream
          (if any), as if the property had been excluded from the send stream.
        <p class="Pp">If the specified property is not present in the send
            stream, this option does nothing.</p>
        <p class="Pp">If a received property needs to be overridden, the
            effective value will be set or inherited, depending on whether the
            property is inheritable or not.</p>
        <p class="Pp">In the case of an incremental update,
            <code class="Fl">-x</code> leaves any existing local setting or
            explicit inheritance unchanged.</p>
        <p class="Pp">All <code class="Fl">-o</code> restrictions on set-once
            and special properties apply equally to
          <code class="Fl">-x</code>.</p>
      </dd>
    </dl>
  </dd>
  <dt><code class="Nm">zfs</code> <code class="Cm">receive</code>
    <code class="Fl">-A</code>
    <var class="Ar">filesystem</var>|<var class="Ar">volume</var></dt>
  <dd>Abort an interrupted <code class="Nm">zfs</code>
      <code class="Cm">receive</code> <code class="Fl">-s</code>, deleting its
      saved partially received state.</dd>
  <dt><code class="Nm">zfs</code> <code class="Cm">allow</code>
    <var class="Ar">filesystem</var>|<var class="Ar">volume</var></dt>
  <dd>Displays permissions that have been delegated on the specified filesystem
      or volume. See the other forms of <code class="Nm">zfs</code>
      <code class="Cm">allow</code> for more information.
    <p class="Pp" id="mount">Delegations are supported under Linux with the
        exception of
        <a class="permalink" href="#mount"><b class="Sy">mount</b></a>,
        <a class="permalink" href="#unmount"><b class="Sy" id="unmount">unmount</b></a>,
        <b class="Sy">mountpoint</b>, <b class="Sy">canmount</b>,
        <a class="permalink" href="#rename"><b class="Sy" id="rename">rename</b></a>,
        and
        <a class="permalink" href="#share"><b class="Sy" id="share">share</b></a>.
        These permissions cannot be delegated because the Linux
        <a class="Xr">mount(8)</a> command restricts modifications of the global
        namespace to the root user.</p>
  </dd>
  <dt><code class="Nm">zfs</code> <code class="Cm">allow</code>
    [<code class="Fl">-dglu</code>]
    <var class="Ar">user</var>|<var class="Ar">group</var>[,<var class="Ar">user</var>|<var class="Ar">group</var>]...
    <var class="Ar">perm</var>|@<var class="Ar">setname</var>[,<var class="Ar">perm</var>|@<var class="Ar">setname</var>]...
    <var class="Ar">filesystem</var>|<var class="Ar">volume</var>
  <br/>
  <code class="Nm">zfs</code> <code class="Cm">allow</code>
    [<code class="Fl">-dl</code>]
    <code class="Fl">-e</code>|<b class="Sy">everyone</b>
    <var class="Ar">perm</var>|@<var class="Ar">setname</var>[,<var class="Ar">perm</var>|@<var class="Ar">setname</var>]...
    <var class="Ar">filesystem</var>|<var class="Ar">volume</var></dt>
  <dd>Delegates ZFS administration permission for the file systems to
      non-privileged users.
    <dl class="Bl-tag">
      <dt id="d~5"><a class="permalink" href="#d~5"><code class="Fl">-d</code></a></dt>
      <dd>Allow only for the descendent file systems.</dd>
      <dt id="e~2"><a class="permalink" href="#e~2"><code class="Fl">-e</code></a>|<b class="Sy">everyone</b></dt>
      <dd>Specifies that the permissions be delegated to everyone.</dd>
      <dt id="g"><a class="permalink" href="#g"><code class="Fl">-g</code></a>
        <var class="Ar">group</var>[,<var class="Ar">group</var>]...</dt>
      <dd>Explicitly specify that permissions are delegated to the group.</dd>
      <dt id="l"><a class="permalink" href="#l"><code class="Fl">-l</code></a></dt>
      <dd>Allow &quot;locally&quot; only for the specified file system.</dd>
      <dt id="u~2"><a class="permalink" href="#u~2"><code class="Fl">-u</code></a>
        <var class="Ar">user</var>[,<var class="Ar">user</var>]...</dt>
      <dd>Explicitly specify that permissions are delegated to the user.</dd>
      <dt><var class="Ar">user</var>|<var class="Ar">group</var>[,<var class="Ar">user</var>|<var class="Ar">group</var>]...</dt>
      <dd>Specifies to whom the permissions are delegated. Multiple entities can
          be specified as a comma-separated list. If neither of the
          <code class="Fl">-gu</code> options are specified, then the argument
          is interpreted preferentially as the keyword
          <b class="Sy">everyone</b>, then as a user name, and lastly as a group
          name. To specify a user or group named &quot;everyone&quot;, use the
          <code class="Fl">-g</code> or <code class="Fl">-u</code> options. To
          specify a group with the same name as a user, use the
          <code class="Fl">-g</code> options.</dd>
      <dt><var class="Ar">perm</var>|@<var class="Ar">setname</var>[,<var class="Ar">perm</var>|@<var class="Ar">setname</var>]...</dt>
      <dd>The permissions to delegate. Multiple permissions may be specified as
          a comma-separated list. Permission names are the same as ZFS
          subcommand and property names. See the property list below. Property
          set names, which begin with <b class="Sy">@</b>, may be specified. See
          the <code class="Fl">-s</code> form below for details.</dd>
    </dl>
    <p class="Pp">If neither of the <code class="Fl">-dl</code> options are
        specified, or both are, then the permissions are allowed for the file
        system or volume, and all of its descendents.</p>
    <p class="Pp">Permissions are generally the ability to use a ZFS subcommand
        or change a ZFS property. The following permissions are available:</p>
    <div class="Bd Pp Li">
    <pre>NAME             TYPE           NOTES
allow            subcommand     Must also have the permission that is
                                being allowed
clone            subcommand     Must also have the 'create' ability and
                                'mount' ability in the origin file system
create           subcommand     Must also have the 'mount' ability
destroy          subcommand     Must also have the 'mount' ability
diff             subcommand     Allows lookup of paths within a dataset
                                given an object number, and the ability
                                to create snapshots necessary to
                                'zfs diff'.
mount            subcommand     Allows mount/umount of ZFS datasets
promote          subcommand     Must also have the 'mount' and 'promote'
                                ability in the origin file system
receive          subcommand     Must also have the 'mount' and 'create'
                                ability
rename           subcommand     Must also have the 'mount' and 'create'
                                ability in the new parent
rollback         subcommand     Must also have the 'mount' ability
send             subcommand
share            subcommand     Allows sharing file systems over NFS
                                or SMB protocols
snapshot         subcommand     Must also have the 'mount' ability

groupquota       other          Allows accessing any groupquota@...
                                property
groupused        other          Allows reading any groupused@... property
userprop         other          Allows changing any user property
userquota        other          Allows accessing any userquota@...
                                property
userused         other          Allows reading any userused@... property

aclinherit       property
acltype          property
atime            property
canmount         property
casesensitivity  property
checksum         property
compression      property
copies           property
devices          property
exec             property
filesystem_limit property
mountpoint       property
nbmand           property
normalization    property
primarycache     property
quota            property
readonly         property
recordsize       property
refquota         property
refreservation   property
reservation      property
secondarycache   property
setuid           property
sharenfs         property
sharesmb         property
snapdir          property
snapshot_limit   property
utf8only         property
version          property
volblocksize     property
volsize          property
vscan            property
xattr            property
zoned            property</pre>
    </div>
  </dd>
  <dt><code class="Nm">zfs</code> <code class="Cm">allow</code>
    <code class="Fl">-c</code>
    <var class="Ar">perm</var>|@<var class="Ar">setname</var>[,<var class="Ar">perm</var>|@<var class="Ar">setname</var>]...
    <var class="Ar">filesystem</var>|<var class="Ar">volume</var></dt>
  <dd>Sets &quot;create time&quot; permissions. These permissions are granted
      (locally) to the creator of any newly-created descendent file system.</dd>
  <dt><code class="Nm">zfs</code> <code class="Cm">allow</code>
    <code class="Fl">-s</code>
    <span class="No">@</span><var class="Ar">setname</var>
    <var class="Ar">perm</var>|@<var class="Ar">setname</var>[,<var class="Ar">perm</var>|@<var class="Ar">setname</var>]...
    <var class="Ar">filesystem</var>|<var class="Ar">volume</var></dt>
  <dd>Defines or adds permissions to a permission set. The set can be used by
      other <code class="Nm">zfs</code> <code class="Cm">allow</code> commands
      for the specified file system and its descendents. Sets are evaluated
      dynamically, so changes to a set are immediately reflected. Permission
      sets follow the same naming restrictions as ZFS file systems, but the name
      must begin with <b class="Sy">@</b>, and can be no more than 64 characters
      long.</dd>
  <dt><code class="Nm">zfs</code> <code class="Cm">unallow</code>
    [<code class="Fl">-dglru</code>]
    <var class="Ar">user</var>|<var class="Ar">group</var>[,<var class="Ar">user</var>|<var class="Ar">group</var>]...
    [<var class="Ar">perm</var>|@<var class="Ar">setname</var>[,<var class="Ar">perm</var>|@<var class="Ar">setname</var>]...]
    <var class="Ar">filesystem</var>|<var class="Ar">volume</var>
  <br/>
  <code class="Nm">zfs</code> <code class="Cm">unallow</code>
    [<code class="Fl">-dlr</code>]
    <code class="Fl">-e</code>|<b class="Sy">everyone</b>
    [<var class="Ar">perm</var>|@<var class="Ar">setname</var>[,<var class="Ar">perm</var>|@<var class="Ar">setname</var>]...]
    <var class="Ar">filesystem</var>|<var class="Ar">volume</var>
  <br/>
  <code class="Nm">zfs</code> <code class="Cm">unallow</code>
    [<code class="Fl">-r</code>] <code class="Fl">-c</code>
    [<var class="Ar">perm</var>|@<var class="Ar">setname</var>[,<var class="Ar">perm</var>|@<var class="Ar">setname</var>]...]
    <var class="Ar">filesystem</var>|<var class="Ar">volume</var></dt>
  <dd>Removes permissions that were granted with the <code class="Nm">zfs</code>
      <code class="Cm">allow</code> command. No permissions are explicitly
      denied, so other permissions granted are still in effect. For example, if
      the permission is granted by an ancestor. If no permissions are specified,
      then all permissions for the specified <var class="Ar">user</var>,
      <var class="Ar">group</var>, or <b class="Sy">everyone</b> are removed.
      Specifying <b class="Sy">everyone</b> (or using the
      <code class="Fl">-e</code> option) only removes the permissions that were
      granted to everyone, not all permissions for every user and group. See the
      <code class="Nm">zfs</code> <code class="Cm">allow</code> command for a
      description of the <code class="Fl">-ldugec</code> options.
    <dl class="Bl-tag">
      <dt id="r~9"><a class="permalink" href="#r~9"><code class="Fl">-r</code></a></dt>
      <dd>Recursively remove the permissions from this file system and all
          descendents.</dd>
    </dl>
  </dd>
  <dt><code class="Nm">zfs</code> <code class="Cm">unallow</code>
    [<code class="Fl">-r</code>] <code class="Fl">-s</code>
    <span class="No">@</span><var class="Ar">setname</var>
    [<var class="Ar">perm</var>|@<var class="Ar">setname</var>[,<var class="Ar">perm</var>|@<var class="Ar">setname</var>]...]
    <var class="Ar">filesystem</var>|<var class="Ar">volume</var></dt>
  <dd>Removes permissions from a permission set. If no permissions are
      specified, then all permissions are removed, thus removing the set
      entirely.</dd>
  <dt><code class="Nm">zfs</code> <code class="Cm">hold</code>
    [<code class="Fl">-r</code>] <var class="Ar">tag</var>
    <var class="Ar">snapshot</var>...</dt>
  <dd>Adds a single reference, named with the <var class="Ar">tag</var>
      argument, to the specified snapshot or snapshots. Each snapshot has its
      own tag namespace, and tags must be unique within that space.
    <p class="Pp">If a hold exists on a snapshot, attempts to destroy that
        snapshot by using the <code class="Nm">zfs</code>
        <code class="Cm">destroy</code> command return
        <code class="Er">EBUSY</code>.</p>
    <dl class="Bl-tag">
      <dt id="r~10"><a class="permalink" href="#r~10"><code class="Fl">-r</code></a></dt>
      <dd>Specifies that a hold with the given tag is applied recursively to the
          snapshots of all descendent file systems.</dd>
    </dl>
  </dd>
  <dt><code class="Nm">zfs</code> <code class="Cm">holds</code>
    [<code class="Fl">-r</code>] <var class="Ar">snapshot</var>...</dt>
  <dd>Lists all existing user references for the given snapshot or snapshots.
    <dl class="Bl-tag">
      <dt id="r~11"><a class="permalink" href="#r~11"><code class="Fl">-r</code></a></dt>
      <dd>Lists the holds that are set on the named descendent snapshots, in
          addition to listing the holds on the named snapshot.</dd>
    </dl>
  </dd>
  <dt><code class="Nm">zfs</code> <code class="Cm">release</code>
    [<code class="Fl">-r</code>] <var class="Ar">tag</var>
    <var class="Ar">snapshot</var>...</dt>
  <dd>Removes a single reference, named with the <var class="Ar">tag</var>
      argument, from the specified snapshot or snapshots. The tag must already
      exist for each snapshot. If a hold exists on a snapshot, attempts to
      destroy that snapshot by using the <code class="Nm">zfs</code>
      <code class="Cm">destroy</code> command return
      <code class="Er">EBUSY</code>.
    <dl class="Bl-tag">
      <dt id="r~12"><a class="permalink" href="#r~12"><code class="Fl">-r</code></a></dt>
      <dd>Recursively releases a hold with the given tag on the snapshots of all
          descendent file systems.</dd>
    </dl>
  </dd>
  <dt><code class="Nm">zfs</code> <code class="Cm">diff</code>
    [<code class="Fl">-FHt</code>] <var class="Ar">snapshot</var>
    <var class="Ar">snapshot</var>|<var class="Ar">filesystem</var></dt>
  <dd>Display the difference between a snapshot of a given filesystem and
      another snapshot of that filesystem from a later time or the current
      contents of the filesystem. The first column is a character indicating the
      type of change, the other columns indicate pathname, new pathname (in case
      of rename), change in link count, and optionally file type and/or change
      time. The types of change are:
    <div class="Bd Pp Li">
    <pre>-       The path has been removed
+       The path has been created
M       The path has been modified
R       The path has been renamed</pre>
    </div>
    <dl class="Bl-tag">
      <dt id="F~2"><a class="permalink" href="#F~2"><code class="Fl">-F</code></a></dt>
      <dd>Display an indication of the type of file, in a manner similar to the
          <code class="Fl">-</code> option of <a class="Xr">ls(1)</a>.
        <div class="Bd Pp Li">
        <pre>B       Block device
C       Character device
/       Directory
&gt;       Door
|       Named pipe
@       Symbolic link
P       Event port
=       Socket
F       Regular file</pre>
        </div>
      </dd>
      <dt id="H~4"><a class="permalink" href="#H~4"><code class="Fl">-H</code></a></dt>
      <dd>Give more parsable tab-separated output, without header lines and
          without arrows.</dd>
      <dt id="t~4"><a class="permalink" href="#t~4"><code class="Fl">-t</code></a></dt>
      <dd>Display the path's inode change time as the first column of
        output.</dd>
    </dl>
  </dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="EXIT_STATUS"><a class="permalink" href="#EXIT_STATUS">EXIT
  STATUS</a></h1>
<p class="Pp">The <code class="Nm">zfs</code> utility exits 0 on success, 1 if
    an error occurs, and 2 if invalid command line options were specified.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLES"><a class="permalink" href="#EXAMPLES">EXAMPLES</a></h1>
<dl class="Bl-tag">
  <dt id="Example"><a class="permalink" href="#Example"><b class="Sy">Example
    1</b></a> <span class="No">Creating a ZFS File System Hierarchy</span></dt>
  <dd>The following commands create a file system named
      <i class="Em">pool/home</i> and a file system named
      <i class="Em">pool/home/bob</i>. The mount point
      <span class="Pa">/export/home</span> is set for the parent file system,
      and is automatically inherited by the child file system.
    <div class="Bd Pp Li">
    <pre># zfs create pool/home
# zfs set mountpoint=/export/home pool/home
# zfs create pool/home/bob</pre>
    </div>
  </dd>
  <dt id="Example~2"><a class="permalink" href="#Example~2"><b class="Sy">Example
    2</b></a> <span class="No">Creating a ZFS Snapshot</span></dt>
  <dd>The following command creates a snapshot named
      <b class="Sy">yesterday</b>. This snapshot is mounted on demand in the
      <span class="Pa">.zfs/snapshot</span> directory at the root of the
      <i class="Em">pool/home/bob</i> file system.
    <div class="Bd Pp Li">
    <pre># zfs snapshot pool/home/bob@yesterday</pre>
    </div>
  </dd>
  <dt id="Example~3"><a class="permalink" href="#Example~3"><b class="Sy">Example
    3</b></a> <span class="No">Creating and Destroying Multiple
    Snapshots</span></dt>
  <dd>The following command creates snapshots named <b class="Sy">yesterday</b>
      of <i class="Em">pool/home</i> and all of its descendent file systems.
      Each snapshot is mounted on demand in the
      <span class="Pa">.zfs/snapshot</span> directory at the root of its file
      system. The second command destroys the newly created snapshots.
    <div class="Bd Pp Li">
    <pre># zfs snapshot -r pool/home@yesterday
# zfs destroy -r pool/home@yesterday</pre>
    </div>
  </dd>
  <dt id="Example~4"><a class="permalink" href="#Example~4"><b class="Sy">Example
    4</b></a> <span class="No">Disabling and Enabling File System
    Compression</span></dt>
  <dd>The following command disables the <b class="Sy">compression</b> property
      for all file systems under <i class="Em">pool/home</i>. The next command
      explicitly enables <b class="Sy">compression</b> for
      <i class="Em">pool/home/anne</i>.
    <div class="Bd Pp Li">
    <pre># zfs set compression=off pool/home
# zfs set compression=on pool/home/anne</pre>
    </div>
  </dd>
  <dt id="Example~5"><a class="permalink" href="#Example~5"><b class="Sy">Example
    5</b></a> <span class="No">Listing ZFS Datasets</span></dt>
  <dd>The following command lists all active file systems and volumes in the
      system. Snapshots are displayed if the <b class="Sy">listsnaps</b>
      property is <b class="Sy">on</b>. The default is <b class="Sy">off</b>.
      See <a href="../8/zpool.8.html" class="Xr">zpool(8)</a> for more information on pool properties.
    <div class="Bd Pp Li">
    <pre># zfs list
NAME                      USED  AVAIL  REFER  MOUNTPOINT
pool                      450K   457G    18K  /pool
pool/home                 315K   457G    21K  /export/home
pool/home/anne             18K   457G    18K  /export/home/anne
pool/home/bob             276K   457G   276K  /export/home/bob</pre>
    </div>
  </dd>
  <dt id="Example~6"><a class="permalink" href="#Example~6"><b class="Sy">Example
    6</b></a> <span class="No">Setting a Quota on a ZFS File System</span></dt>
  <dd>The following command sets a quota of 50 Gbytes for
      <i class="Em">pool/home/bob</i>.
    <div class="Bd Pp Li">
    <pre># zfs set quota=50G pool/home/bob</pre>
    </div>
  </dd>
  <dt id="Example~7"><a class="permalink" href="#Example~7"><b class="Sy">Example
    7</b></a> <span class="No">Listing ZFS Properties</span></dt>
  <dd>The following command lists all properties for
      <i class="Em">pool/home/bob</i>.
    <div class="Bd Pp Li">
    <pre># zfs get all pool/home/bob
NAME           PROPERTY              VALUE                  SOURCE
pool/home/bob  type                  filesystem             -
pool/home/bob  creation              Tue Jul 21 15:53 2009  -
pool/home/bob  used                  21K                    -
pool/home/bob  available             20.0G                  -
pool/home/bob  referenced            21K                    -
pool/home/bob  compressratio         1.00x                  -
pool/home/bob  mounted               yes                    -
pool/home/bob  quota                 20G                    local
pool/home/bob  reservation           none                   default
pool/home/bob  recordsize            128K                   default
pool/home/bob  mountpoint            /pool/home/bob         default
pool/home/bob  sharenfs              off                    default
pool/home/bob  checksum              on                     default
pool/home/bob  compression           on                     local
pool/home/bob  atime                 on                     default
pool/home/bob  devices               on                     default
pool/home/bob  exec                  on                     default
pool/home/bob  setuid                on                     default
pool/home/bob  readonly              off                    default
pool/home/bob  zoned                 off                    default
pool/home/bob  snapdir               hidden                 default
pool/home/bob  acltype               off                    default
pool/home/bob  aclinherit            restricted             default
pool/home/bob  canmount              on                     default
pool/home/bob  xattr                 on                     default
pool/home/bob  copies                1                      default
pool/home/bob  version               4                      -
pool/home/bob  utf8only              off                    -
pool/home/bob  normalization         none                   -
pool/home/bob  casesensitivity       sensitive              -
pool/home/bob  vscan                 off                    default
pool/home/bob  nbmand                off                    default
pool/home/bob  sharesmb              off                    default
pool/home/bob  refquota              none                   default
pool/home/bob  refreservation        none                   default
pool/home/bob  primarycache          all                    default
pool/home/bob  secondarycache        all                    default
pool/home/bob  usedbysnapshots       0                      -
pool/home/bob  usedbydataset         21K                    -
pool/home/bob  usedbychildren        0                      -
pool/home/bob  usedbyrefreservation  0                      -</pre>
    </div>
    <p class="Pp">The following command gets a single property value.</p>
    <div class="Bd Pp Li">
    <pre># zfs get -H -o value compression pool/home/bob
on</pre>
    </div>
    The following command lists all properties with local settings for
      <i class="Em">pool/home/bob</i>.
    <div class="Bd Pp Li">
    <pre># zfs get -r -s local -o name,property,value all pool/home/bob
NAME           PROPERTY              VALUE
pool/home/bob  quota                 20G
pool/home/bob  compression           on</pre>
    </div>
  </dd>
  <dt id="Example~8"><a class="permalink" href="#Example~8"><b class="Sy">Example
    8</b></a> <span class="No">Rolling Back a ZFS File System</span></dt>
  <dd>The following command reverts the contents of
      <i class="Em">pool/home/anne</i> to the snapshot named
      <b class="Sy">yesterday</b>, deleting all intermediate snapshots.
    <div class="Bd Pp Li">
    <pre># zfs rollback -r pool/home/anne@yesterday</pre>
    </div>
  </dd>
  <dt id="Example~9"><a class="permalink" href="#Example~9"><b class="Sy">Example
    9</b></a> <span class="No">Creating a ZFS Clone</span></dt>
  <dd>The following command creates a writable file system whose initial
      contents are the same as
      <a class="permalink" href="#pool/home/bob@yesterday"><i class="Em" id="pool/home/bob@yesterday">pool/home/bob@yesterday</i></a>.
    <div class="Bd Pp Li">
    <pre># zfs clone pool/home/bob@yesterday pool/clone</pre>
    </div>
  </dd>
  <dt id="Example~10"><a class="permalink" href="#Example~10"><b class="Sy">Example
    10</b></a> <span class="No">Promoting a ZFS Clone</span></dt>
  <dd>The following commands illustrate how to test out changes to a file
      system, and then replace the original file system with the changed one,
      using clones, clone promotion, and renaming:
    <div class="Bd Pp Li">
    <pre># zfs create pool/project/production
  populate /pool/project/production with data
# zfs snapshot pool/project/production@today
# zfs clone pool/project/production@today pool/project/beta
  make changes to /pool/project/beta and test them
# zfs promote pool/project/beta
# zfs rename pool/project/production pool/project/legacy
# zfs rename pool/project/beta pool/project/production
  once the legacy version is no longer needed, it can be destroyed
# zfs destroy pool/project/legacy</pre>
    </div>
  </dd>
  <dt id="Example~11"><a class="permalink" href="#Example~11"><b class="Sy">Example
    11</b></a> <span class="No">Inheriting ZFS Properties</span></dt>
  <dd>The following command causes <i class="Em">pool/home/bob</i> and
      <i class="Em">pool/home/anne</i> to inherit the <b class="Sy">checksum</b>
      property from their parent.
    <div class="Bd Pp Li">
    <pre># zfs inherit checksum pool/home/bob pool/home/anne</pre>
    </div>
  </dd>
  <dt id="Example~12"><a class="permalink" href="#Example~12"><b class="Sy">Example
    12</b></a> <span class="No">Remotely Replicating ZFS Data</span></dt>
  <dd>The following commands send a full stream and then an incremental stream
      to a remote machine, restoring them into
      <a class="permalink" href="#poolB/received/fs@a"><i class="Em" id="poolB/received/fs@a">poolB/received/fs@a</i></a>
      and
      <a class="permalink" href="#poolB/received/fs@b"><i class="Em" id="poolB/received/fs@b">poolB/received/fs@b</i></a>,
      respectively. <i class="Em">poolB</i> must contain the file system
      <i class="Em">poolB/received</i>, and must not initially contain
      <a class="permalink" href="#poolB/received/fs"><i class="Em" id="poolB/received/fs">poolB/received/fs</i></a>.
    <div class="Bd Pp Li">
    <pre># zfs send pool/fs@a | \
  ssh host zfs receive poolB/received/fs@a
# zfs send -i a pool/fs@b | \
  ssh host zfs receive poolB/received/fs</pre>
    </div>
  </dd>
  <dt id="Example~13"><a class="permalink" href="#Example~13"><b class="Sy">Example
    13</b></a> <span class="No">Using the zfs receive -d Option</span></dt>
  <dd>The following command sends a full stream of
      <a class="permalink" href="#poolA/fsA/fsB@snap"><i class="Em" id="poolA/fsA/fsB@snap">poolA/fsA/fsB@snap</i></a>
      to a remote machine, receiving it into
      <a class="permalink" href="#poolB/received/fsA/fsB@snap"><i class="Em" id="poolB/received/fsA/fsB@snap">poolB/received/fsA/fsB@snap</i></a>.
      The
      <a class="permalink" href="#fsA/fsB@snap"><i class="Em" id="fsA/fsB@snap">fsA/fsB@snap</i></a>
      portion of the received snapshot's name is determined from the name of the
      sent snapshot. <i class="Em">poolB</i> must contain the file system
      <i class="Em">poolB/received</i>. If
      <a class="permalink" href="#poolB/received/fsA"><i class="Em" id="poolB/received/fsA">poolB/received/fsA</i></a>
      does not exist, it is created as an empty file system.
    <div class="Bd Pp Li">
    <pre># zfs send poolA/fsA/fsB@snap | \
  ssh host zfs receive -d poolB/received</pre>
    </div>
  </dd>
  <dt id="Example~14"><a class="permalink" href="#Example~14"><b class="Sy">Example
    14</b></a> <span class="No">Setting User Properties</span></dt>
  <dd>The following example sets the user-defined
      <a class="permalink" href="#com.example:department"><b class="Sy" id="com.example:department">com.example:department</b></a>
      property for a dataset.
    <div class="Bd Pp Li">
    <pre># zfs set com.example:department=12345 tank/accounting</pre>
    </div>
  </dd>
  <dt id="Example~15"><a class="permalink" href="#Example~15"><b class="Sy">Example
    15</b></a> <span class="No">Performing a Rolling Snapshot</span></dt>
  <dd>The following example shows how to maintain a history of snapshots with a
      consistent naming scheme. To keep a week's worth of snapshots, the user
      destroys the oldest snapshot, renames the remaining snapshots, and then
      creates a new snapshot, as follows:
    <div class="Bd Pp Li">
    <pre># zfs destroy -r pool/users@7daysago
# zfs rename -r pool/users@6daysago @7daysago
# zfs rename -r pool/users@5daysago @6daysago
# zfs rename -r pool/users@4daysago @5daysago
# zfs rename -r pool/users@3daysago @4daysago
# zfs rename -r pool/users@2daysago @3daysago
# zfs rename -r pool/users@yesterday @2daysago
# zfs rename -r pool/users@today @yesterday
# zfs snapshot -r pool/users@today</pre>
    </div>
  </dd>
  <dt id="Example~16"><a class="permalink" href="#Example~16"><b class="Sy">Example
    16</b></a> <span class="No">Setting sharenfs Property Options on a ZFS File
    System</span></dt>
  <dd>The following commands show how to set <b class="Sy">sharenfs</b> property
      options to enable <b class="Sy">rw</b> access for a set of
      <a class="permalink" href="#IP"><b class="Sy" id="IP">IP</b></a> addresses
      and to enable root access for system
      <a class="permalink" href="#neo"><b class="Sy" id="neo">neo</b></a> on the
      <a class="permalink" href="#tank/home"><i class="Em" id="tank/home">tank/home</i></a>
      file system.
    <div class="Bd Pp Li">
    <pre># zfs set sharenfs='rw=@123.123.0.0/16,root=neo' tank/home</pre>
    </div>
    <p class="Pp">If you are using <b class="Sy">DNS</b> for host name
        resolution, specify the fully qualified hostname.</p>
  </dd>
  <dt id="Example~17"><a class="permalink" href="#Example~17"><b class="Sy">Example
    17</b></a> <span class="No">Delegating ZFS Administration Permissions on a
    ZFS Dataset</span></dt>
  <dd>The following example shows how to set permissions so that user
      <b class="Sy">cindys</b> can create, destroy, mount, and take snapshots on
      <i class="Em">tank/cindys</i>. The permissions on
      <i class="Em">tank/cindys</i> are also displayed.
    <div class="Bd Pp Li">
    <pre># zfs allow cindys create,destroy,mount,snapshot tank/cindys
# zfs allow tank/cindys
---- Permissions on tank/cindys --------------------------------------
Local+Descendent permissions:
        user cindys create,destroy,mount,snapshot</pre>
    </div>
    <p class="Pp">Because the <i class="Em">tank/cindys</i> mount point
        permission is set to 755 by default, user <b class="Sy">cindys</b> will
        be unable to mount file systems under <i class="Em">tank/cindys</i>. Add
        an ACE similar to the following syntax to provide mount point
      access:</p>
    <div class="Bd Pp Li">
    <pre># chmod A+user:cindys:add_subdirectory:allow /tank/cindys</pre>
    </div>
  </dd>
  <dt id="Example~18"><a class="permalink" href="#Example~18"><b class="Sy">Example
    18</b></a> <span class="No">Delegating Create Time Permissions on a ZFS
    Dataset</span></dt>
  <dd>The following example shows how to grant anyone in the group
      <b class="Sy">staff</b> to create file systems in
      <i class="Em">tank/users</i>. This syntax also allows staff members to
      destroy their own file systems, but not destroy anyone else's file system.
      The permissions on <i class="Em">tank/users</i> are also displayed.
    <div class="Bd Pp Li">
    <pre># zfs allow staff create,mount tank/users
# zfs allow -c destroy tank/users
# zfs allow tank/users
---- Permissions on tank/users ---------------------------------------
Permission sets:
        destroy
Local+Descendent permissions:
        group staff create,mount</pre>
    </div>
  </dd>
  <dt id="Example~19"><a class="permalink" href="#Example~19"><b class="Sy">Example
    19</b></a> <span class="No">Defining and Granting a Permission Set on a ZFS
    Dataset</span></dt>
  <dd>The following example shows how to define and grant a permission set on
      the <i class="Em">tank/users</i> file system. The permissions on
      <i class="Em">tank/users</i> are also displayed.
    <div class="Bd Pp Li">
    <pre># zfs allow -s @pset create,destroy,snapshot,mount tank/users
# zfs allow staff @pset tank/users
# zfs allow tank/users
---- Permissions on tank/users ---------------------------------------
Permission sets:
        @pset create,destroy,mount,snapshot
Local+Descendent permissions:
        group staff @pset</pre>
    </div>
  </dd>
  <dt id="Example~20"><a class="permalink" href="#Example~20"><b class="Sy">Example
    20</b></a> <span class="No">Delegating Property Permissions on a ZFS
    Dataset</span></dt>
  <dd>The following example shows to grant the ability to set quotas and
      reservations on the <i class="Em">users/home</i> file system. The
      permissions on <i class="Em">users/home</i> are also displayed.
    <div class="Bd Pp Li">
    <pre># zfs allow cindys quota,reservation users/home
# zfs allow users/home
---- Permissions on users/home ---------------------------------------
Local+Descendent permissions:
        user cindys quota,reservation
cindys% zfs set quota=10G users/home/marks
cindys% zfs get quota users/home/marks
NAME              PROPERTY  VALUE  SOURCE
users/home/marks  quota     10G    local</pre>
    </div>
  </dd>
  <dt id="Example~21"><a class="permalink" href="#Example~21"><b class="Sy">Example
    21</b></a> <span class="No">Removing ZFS Delegated Permissions on a ZFS
    Dataset</span></dt>
  <dd>The following example shows how to remove the snapshot permission from the
      <b class="Sy">staff</b> group on the <i class="Em">tank/users</i> file
      system. The permissions on <i class="Em">tank/users</i> are also
      displayed.
    <div class="Bd Pp Li">
    <pre># zfs unallow staff snapshot tank/users
# zfs allow tank/users
---- Permissions on tank/users ---------------------------------------
Permission sets:
        @pset create,destroy,mount,snapshot
Local+Descendent permissions:
        group staff @pset</pre>
    </div>
  </dd>
  <dt id="Example~22"><a class="permalink" href="#Example~22"><b class="Sy">Example
    22</b></a> <span class="No">Showing the differences between a snapshot and a
    ZFS Dataset</span></dt>
  <dd>The following example shows how to see what has changed between a prior
      snapshot of a ZFS dataset and its current state. The
      <code class="Fl">-F</code> option is used to indicate type information for
      the files affected.
    <div class="Bd Pp Li">
    <pre># zfs diff -F tank/test@before tank/test
M       /       /tank/test/
M       F       /tank/test/linked      (+1)
R       F       /tank/test/oldname -&gt; /tank/test/newname
-       F       /tank/test/deleted
+       F       /tank/test/created
M       F       /tank/test/modified</pre>
    </div>
  </dd>
  <dt id="Example~23"><a class="permalink" href="#Example~23"><b class="Sy">Example
    23</b></a> <span class="No">Creating a bookmark</span></dt>
  <dd>The following example create a bookmark to a snapshot. This bookmark can
      then be used instead of snapshot in send streams.
    <div class="Bd Pp Li">
    <pre># zfs bookmark rpool@snapshot rpool#bookmark</pre>
    </div>
  </dd>
  <dt id="Example~24"><a class="permalink" href="#Example~24"><b class="Sy">Example
    24</b></a> <span class="No">Setting sharesmb Property Options on a ZFS File
    System</span></dt>
  <dd>The following example show how to share SMB filesystem through ZFS. Note
      that that a user and his/her password must be given.
    <div class="Bd Pp Li">
    <pre># smbmount //127.0.0.1/share_tmp /mnt/tmp \
  -o user=workgroup/turbo,password=obrut,uid=1000</pre>
    </div>
    <p class="Pp" id="/etc/samba/smb.conf">Minimal
        <a class="permalink" href="#/etc/samba/smb.conf"><i class="Em">/etc/samba/smb.conf</i></a>
        configuration required:</p>
    <p class="Pp">Samba will need to listen to 'localhost' (127.0.0.1) for the
        ZFS utilities to communicate with Samba. This is the default behavior
        for most Linux distributions.</p>
    <p class="Pp">Samba must be able to authenticate a user. This can be done in
        a number of ways, depending on if using the system password file, LDAP
        or the Samba specific smbpasswd file. How to do this is outside the
        scope of this manual. Please refer to the <a class="Xr">smb.conf(5)</a>
        man page for more information.</p>
    <p class="Pp">See the <b class="Sy">USERSHARE section</b> of the
        <a class="Xr">smb.conf(5)</a> man page for all configuration options in
        case you need to modify any options to the share afterwards. Do note
        that any changes done with the <a class="Xr">net(8)</a> command will be
        undone if the share is ever unshared (such as at a reboot etc).</p>
  </dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="INTERFACE_STABILITY"><a class="permalink" href="#INTERFACE_STABILITY">INTERFACE
  STABILITY</a></h1>
<p class="Pp"><a class="permalink" href="#Committed"><b class="Sy" id="Committed">Committed</b></a>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp"><a class="Xr">gzip(1)</a>, <a class="Xr">ssh(1)</a>,
    <a href="../8/zpool.8.html" class="Xr">zpool(8)</a>,
    <a class="Xr">selinux(8)</a>, <a class="Xr">chmod(2)</a>,
    <a class="Xr">stat(2)</a>, <a class="Xr">write(2)</a>,
    <a class="Xr">fsync(2)</a>, <a class="Xr">attr(1)</a>,
    <a class="Xr">acl(5)</a>, <a class="Xr">exports(5)</a>,
    <a class="Xr">exportfs(8)</a>, <a class="Xr">net(8)</a>,
    <a class="Xr">attributes(5)</a></p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">January 5, 2019</td>
    <td class="foot-os">Linux</td>
  </tr>
</table>
</div></section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="zed.8.html" class="btn btn-neutral float-left" title="zed.8" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="zgenhostid.8.html" class="btn btn-neutral float-right" title="zgenhostid.8" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2026, OpenZFS.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>