

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta property="article:modified_time" content="2025-12-02T20:06:30+00:00" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>VDEVs &mdash; OpenZFS  documentation</title>
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme_overrides.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/mandoc.css" type="text/css" />

  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="canonical" href="https://openzfs.github.io/openzfs-docs/Basic%20Concepts/VDEVs.html" />
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../_static/doctools.js?v=fd6eb6e6"></script>
      <script src="../_static/sphinx_highlight.js?v=6ffebe34"></script>
      <script src="../_static/js/redirect.js?v=2a1712f3"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="dRAID" href="dRAID%20Howto.html" />
    <link rel="prev" title="Troubleshooting" href="Troubleshooting.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #29667e" >

          
          
          <a href="../index.html">
            
              <img src="../_static/logo_main.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Getting%20Started/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Project%20and%20Community/index.html">Project and Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Developer%20Resources/index.html">Developer Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Performance%20and%20Tuning/index.html">Performance and Tuning</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Basic Concepts</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Checksums.html">Checksums and Their Use in ZFS</a></li>
<li class="toctree-l2"><a class="reference internal" href="Feature%20Flags.html">Feature Flags</a></li>
<li class="toctree-l2"><a class="reference internal" href="RAIDZ.html">RAIDZ</a></li>
<li class="toctree-l2"><a class="reference internal" href="Troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">VDEVs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#what-is-a-vdev">What is a VDEV?</a></li>
<li class="toctree-l3"><a class="reference internal" href="#what-is-a-leaf-vdev">What is a leaf vdev?</a></li>
<li class="toctree-l3"><a class="reference internal" href="#what-is-a-top-level-vdev">What is a top-level vdev?</a></li>
<li class="toctree-l3"><a class="reference internal" href="#what-is-a-root-vdev">What is a root vdev?</a></li>
<li class="toctree-l3"><a class="reference internal" href="#what-are-the-different-types-of-vdevs">What are the different types of vdevs?</a></li>
<li class="toctree-l3"><a class="reference internal" href="#how-do-vdevs-relate-to-storage-pools">How do vdevs relate to storage pools?</a></li>
<li class="toctree-l3"><a class="reference internal" href="#how-does-zfs-handle-vdev-failures">How does ZFS handle vdev failures?</a></li>
<li class="toctree-l3"><a class="reference internal" href="#how-do-i-manage-vdevs-in-zfs">How do I manage vdevs in ZFS?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="dRAID%20Howto.html">dRAID</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../man/index.html">Man Pages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../msg/index.html">ZFS Messages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../License.html">License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #29667e" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">OpenZFS</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Basic Concepts</a></li>
      <li class="breadcrumb-item active">VDEVs</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/openzfs/openzfs-docs/blob/master/docs/Basic Concepts/VDEVs.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="vdevs">
<h1>VDEVs<a class="headerlink" href="#vdevs" title="Link to this heading"></a></h1>
<section id="what-is-a-vdev">
<h2>What is a VDEV?<a class="headerlink" href="#what-is-a-vdev" title="Link to this heading"></a></h2>
<p>A vdev (virtual device) is a fundamental building block of ZFS storage pools. It represents a logical grouping of physical storage devices, such as hard drives, SSDs, or partitions.</p>
</section>
<section id="what-is-a-leaf-vdev">
<h2>What is a leaf vdev?<a class="headerlink" href="#what-is-a-leaf-vdev" title="Link to this heading"></a></h2>
<p>A leaf vdev is the most basic type of vdev, which directly corresponds to a physical storage device. It is the endpoint of the storage hierarchy in ZFS.</p>
</section>
<section id="what-is-a-top-level-vdev">
<h2>What is a top-level vdev?<a class="headerlink" href="#what-is-a-top-level-vdev" title="Link to this heading"></a></h2>
<p>Top-level vdevs are the direct children of the root vdev. They can be single devices or logical groups that aggregate multiple leaf vdevs (like mirrors or RAIDZ groups). ZFS dynamically stripes data across all top-level vdevs in a pool.</p>
</section>
<section id="what-is-a-root-vdev">
<h2>What is a root vdev?<a class="headerlink" href="#what-is-a-root-vdev" title="Link to this heading"></a></h2>
<p>The root vdev is the top of the pool hierarchy. It aggregates all top-level vdevs into a single logical storage unit (the pool).</p>
</section>
<section id="what-are-the-different-types-of-vdevs">
<h2>What are the different types of vdevs?<a class="headerlink" href="#what-are-the-different-types-of-vdevs" title="Link to this heading"></a></h2>
<p>OpenZFS supports several types of vdevs. Top-level vdevs carry data and provide redundancy:</p>
<ul>
<li><p><strong>Striped Disk(s)</strong>: A vdev consisting of one or more physical devices striped together (like RAID 0). It provides no redundancy and will lead to data loss if a drive fails.</p></li>
<li><p><strong>Mirror</strong>: A vdev that stores the same data on two or more drives for redundancy.</p></li>
<li><p><a class="reference external" href="./RAIDZ.html">RAIDZ</a>: A vdev that uses parity to provide fault tolerance, similar to traditional RAID 5/6. There are three levels of RAIDZ:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>RAIDZ1</strong>: Single parity, similar to RAID 5. Requires at least 2 disks (3+ recommended), can tolerate one drive failure.</p></li>
<li><p><strong>RAIDZ2</strong>: Double parity, similar to RAID 6. Requires at least 3 disks (5+ recommended), can tolerate two drive failures.</p></li>
<li><p><strong>RAIDZ3</strong>: Triple parity. Requires at least 4 disks (7+ recommended), can tolerate three drive failures.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><a class="reference external" href="./dRAID%20Howto.html">dRAID</a>: Distributed RAID. A vdev that provides distributed parity and hot spares across multiple drives, allowing for much faster rebuild performance after a failure.</p></li>
</ul>
<p>Auxiliary vdevs provide specific functionality:</p>
<ul class="simple">
<li><p><strong>Spare</strong>: A drive that acts as a hot spare, automatically replacing a failed drive in another vdev.</p></li>
<li><p><strong>Cache (L2ARC)</strong>: A Level 2 ARC vdev used for caching frequently accessed data to improve random read performance.</p></li>
<li><p><strong>Log (SLOG)</strong>: A separate log vdev (SLOG) used to store the ZFS Intent Log (ZIL) for improved synchronous write performance.</p></li>
<li><p><strong>Special</strong>: A vdev dedicated to storing metadata, and optionally small file blocks and the Dedup Table (DDT).</p></li>
<li><p><strong>Dedup</strong>: A vdev dedicated strictly to storing the Deduplication Table (DDT).</p></li>
</ul>
</section>
<section id="how-do-vdevs-relate-to-storage-pools">
<h2>How do vdevs relate to storage pools?<a class="headerlink" href="#how-do-vdevs-relate-to-storage-pools" title="Link to this heading"></a></h2>
<p>Vdevs are the building blocks of ZFS storage pools. A storage pool (zpool) is created by combining one or more top-level vdevs. The overall performance, capacity, and redundancy of the storage pool depend on the configuration and types of vdevs used.</p>
<p>Here is an example layout as seen in <a class="reference external" href="https://openzfs.github.io/openzfs-docs/man/master/8/zpool-status.8.html">zpool-status(8)</a> output
for a pool with two RAIDZ1 top-level vdevs and 10 leaf vdevs:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">datapoolname</span> <span class="p">(</span><span class="n">root</span> <span class="n">vdev</span><span class="p">)</span>
  <span class="n">raidz1</span><span class="o">-</span><span class="mi">0</span> <span class="p">(</span><span class="n">top</span><span class="o">-</span><span class="n">level</span> <span class="n">vdev</span><span class="p">)</span>
    <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">dsk</span><span class="o">/</span><span class="n">disk0</span> <span class="p">(</span><span class="n">leaf</span> <span class="n">vdev</span><span class="p">)</span>
    <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">dsk</span><span class="o">/</span><span class="n">disk1</span> <span class="p">(</span><span class="n">leaf</span> <span class="n">vdev</span><span class="p">)</span>
    <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">dsk</span><span class="o">/</span><span class="n">disk2</span> <span class="p">(</span><span class="n">leaf</span> <span class="n">vdev</span><span class="p">)</span>
    <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">dsk</span><span class="o">/</span><span class="n">disk3</span> <span class="p">(</span><span class="n">leaf</span> <span class="n">vdev</span><span class="p">)</span>
    <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">dsk</span><span class="o">/</span><span class="n">disk4</span> <span class="p">(</span><span class="n">leaf</span> <span class="n">vdev</span><span class="p">)</span>
  <span class="n">raidz1</span><span class="o">-</span><span class="mi">1</span> <span class="p">(</span><span class="n">top</span><span class="o">-</span><span class="n">level</span> <span class="n">vdev</span><span class="p">)</span>
    <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">dsk</span><span class="o">/</span><span class="n">disk5</span> <span class="p">(</span><span class="n">leaf</span> <span class="n">vdev</span><span class="p">)</span>
    <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">dsk</span><span class="o">/</span><span class="n">disk6</span> <span class="p">(</span><span class="n">leaf</span> <span class="n">vdev</span><span class="p">)</span>
    <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">dsk</span><span class="o">/</span><span class="n">disk7</span> <span class="p">(</span><span class="n">leaf</span> <span class="n">vdev</span><span class="p">)</span>
    <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">dsk</span><span class="o">/</span><span class="n">disk8</span> <span class="p">(</span><span class="n">leaf</span> <span class="n">vdev</span><span class="p">)</span>
    <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">dsk</span><span class="o">/</span><span class="n">disk9</span> <span class="p">(</span><span class="n">leaf</span> <span class="n">vdev</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="how-does-zfs-handle-vdev-failures">
<h2>How does ZFS handle vdev failures?<a class="headerlink" href="#how-does-zfs-handle-vdev-failures" title="Link to this heading"></a></h2>
<p>ZFS is designed to handle vdev failures gracefully. If a vdev fails, ZFS can continue to operate using the remaining vdevs in the pool,
provided that the redundancy level of the pool allows for it (e.g., in a mirror, RAIDZ, or dRAID configuration).
When there is still enough redundancy in the pool, ZFS will mark the failed vdev as “faulted” and will recover data from the remaining vdevs.
Administrators can <a class="reference external" href="https://openzfs.github.io/openzfs-docs/man/master/8/zpool-replace.8.html">zpool-replace(8)</a> failed vdev with a new one and ZFS will automatically resilver (rebuild)
the data onto the new vdev to return the pool to a healthy state.</p>
</section>
<section id="how-do-i-manage-vdevs-in-zfs">
<h2>How do I manage vdevs in ZFS?<a class="headerlink" href="#how-do-i-manage-vdevs-in-zfs" title="Link to this heading"></a></h2>
<p>Vdevs are managed using the <a class="reference external" href="https://openzfs.github.io/openzfs-docs/man/master/8/zpool.8.html">zpool(8)</a> command-line utility. Common operations include:</p>
<ul class="simple">
<li><p><strong>Creating a pool</strong>: <cite>zpool create</cite> allows you to specify the vdev layout. See <a class="reference external" href="https://openzfs.github.io/openzfs-docs/man/master/8/zpool-create.8.html">zpool-create(8)</a>.</p></li>
<li><p><strong>Adding vdevs</strong>: <cite>zpool add</cite> attaches new top-level vdevs to an existing pool, expanding its capacity and performance (by increasing stripe width). See <a class="reference external" href="https://openzfs.github.io/openzfs-docs/man/master/8/zpool-add.8.html">zpool-add(8)</a>.</p></li>
<li><p><strong>Removing vdevs</strong>: <cite>zpool remove</cite> can remove certain types of top-level vdevs evacuating their data to other vdevs. See <a class="reference external" href="https://openzfs.github.io/openzfs-docs/man/master/8/zpool-remove.8.html">zpool-remove(8)</a>.</p></li>
<li><p><strong>Replacing drives</strong>: <cite>zpool replace</cite> swaps a failed or small drive with a new one. See <a class="reference external" href="https://openzfs.github.io/openzfs-docs/man/master/8/zpool-replace.8.html">zpool-replace(8)</a>.</p></li>
<li><p><strong>Monitoring status</strong>: <cite>zpool status</cite> shows the health and layout of all vdevs. See <a class="reference external" href="https://openzfs.github.io/openzfs-docs/man/master/8/zpool-status.8.html">zpool-status(8)</a>.</p></li>
<li><p><strong>Monitoring performance</strong>: <cite>zpool iostat</cite> displays I/O statistics for the pool and individual vdevs. See <a class="reference external" href="https://openzfs.github.io/openzfs-docs/man/master/8/zpool-iostat.8.html">zpool-iostat(8)</a>.</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="Troubleshooting.html" class="btn btn-neutral float-left" title="Troubleshooting" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="dRAID%20Howto.html" class="btn btn-neutral float-right" title="dRAID" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2026, OpenZFS.
      <span class="lastupdated">Last updated on Dec 02, 2025.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>